this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["login/shopify/default"]=function(e,n,t,i,s){function a(){return'\n    <button class="hull-loader">\n      Loading...\n    </button>\n  '}function o(e,n){var i,s="";return s+="\n      ",i=t["if"].call(e,e&&e.showSignOut,{hash:{},inverse:b.noop,fn:b.program(4,l,n),data:n}),(i||0===i)&&(s+=i),s+="\n\n      ",i=t["if"].call(e,e&&e.showLinkIdentity,{hash:{},inverse:b.noop,fn:b.program(6,r,n),data:n}),(i||0===i)&&(s+=i),s+="\n    "}function l(){return'\n        <a href="#" data-hull-action="_logout">Sign Out</a>\n      '}function r(e,n){var i,s="";return s+="\n        ",i=t.each.call(e,e&&e.providers,{hash:{},inverse:b.noop,fn:b.program(7,h,n),data:n}),(i||0===i)&&(s+=i),s+="\n      "}function h(e,n){var i,s="";return s+="\n          ",i=t["if"].call(e,e&&e.linked,{hash:{},inverse:b.program(11,c,n),fn:b.program(8,u,n),data:n}),(i||0===i)&&(s+=i),s+="\n        "}function u(e,n){var i,s="";return s+="\n            ",i=t["if"].call(e,e&&e.isUnlinkable,{hash:{},inverse:b.noop,fn:b.program(9,d,n),data:n}),(i||0===i)&&(s+=i),s+="\n          "}function d(e,n){var t,i="";return i+='\n              <button class="hull-btn hull-btn-'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'" data-hull-action="_unlinkIdentity" data-hull-provider="'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'">\n                <i class="hull-icon hull-icon-'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'"></i> '+k((t=e&&e.messages,t=null==t||t===!1?t:t.unlinkMessage,typeof t===m?t.apply(e):t))+"\n              </button>\n            "}function c(e,n){var t,i="";return i+='\n            <button class="hull-btn hull-btn-'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'" data-hull-action="_linkIdentity" data-hull-provider="'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'">\n              <i class="hull-icon hull-icon-'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'"></i> '+k((t=e&&e.messages,t=null==t||t===!1?t:t.linkMessage,typeof t===m?t.apply(e):t))+"\n            </button>\n          "}function p(e,n){var i,s="";return s+="\n      ",i=t.each.call(e,e&&e.providers,{hash:{},inverse:b.noop,fn:b.program(14,g,n),data:n}),(i||0===i)&&(s+=i),s+="\n    "}function g(e,n){var t,i="";return i+='\n        <button class="hull-btn hull-btn-'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'" data-hull-action="_login" data-hull-provider="'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'">\n          <i class="hull-icon hull-icon-'+k((t=null==n||n===!1?n:n.key,typeof t===m?t.apply(e):t))+'"></i> '+k((t=e&&e.messages,t=null==t||t===!1?t:t.signInMessage,typeof t===m?t.apply(e):t))+"\n        </button>\n      "}this.compilerInfo=[4,">= 1.0.0"],t=this.merge(t,e.helpers),s=s||{};var f,y,v="",m="function",k=this.escapeExpression,b=this;return v+='<div class="hull-social ',(y=t.classes)?f=y.call(n,{hash:{},data:s}):(y=n&&n.classes,f=typeof y===m?y.call(n,{hash:{},data:s}):y),v+=k(f)+'">\n  <div class="hull-error-container"></div>\n\n  ',f=t["if"].call(n,n&&n.showLoader,{hash:{},inverse:b.noop,fn:b.program(1,a,s),data:s}),(f||0===f)&&(v+=f),v+='\n\n  <div class="hull-social-container">\n    ',f=t["if"].call(n,n&&n.loggedIn,{hash:{},inverse:b.program(13,p,s),fn:b.program(3,o,s),data:s}),(f||0===f)&&(v+=f),v+="\n  </div>\n</div>\n"},Hull.component("login/shopify@hull",{templates:["default"],refreshEvents:["model.hull.me.change"],linkTagInjected:!1,defaultMessages:{signInMessage:"Sign In with {{provider}}",linkMessage:"Link your {{provider}} account",unlinkMessage:"Unlink your {{provider}} account",identityTakenMessage:'This "{{provider}}" account is already linked to another User.',emailTakenMessage:'"{{email}}" is already taken.',authFailedMessage:'You did not fully authorize or "{{provider}}" app is not well configured.',windowClosedMessage:"Authorization window has been closed.",customerExistsMessage:'"{{email}}" is already associated with an account... Please <a href="/account/login">log in with your password</a>. If you have forgotten your password, you can <a href="/account/login#recover">reset your password here</a>.',disabledCustomerMessage:"An email has been sent to {{email}}, please click the link included to verify your email address.",fallbackMessage:"Bummer, something went wrong during authentication."},actionMessages:["signInMessage","linkMessage","unlinkMessage"],initialize:function(){this.isLoading=!1,this.sandbox.on("hull.shopify.loading.start",this.startLoading,this),this.sandbox.on("hull.shopify.loading.stop",this.stopLoading,this),this.injectLinkTag()},beforeRender:function(e){var n=this.sandbox.util._;e.classes=this.getClasses();var t=this.loggedIn();e.providers=n.reduce(this.authServices(),function(n,i){return n[i]={linked:!!t[i],messages:this.getProviderMessages(i),isUnlinkable:t&&e.me.main_identity!==i},n},{},this),e.showLinkIdentity=this.options.showLinkIdentity!==!1,e.showSignOut=this.options.showSignOut!==!1,e.showLoader=this.options.showLoader!==!1},afterRender:function(){this.$errorContainer=this.$(".hull-error-container")},actions:{_login:function(e,n){var t=this.callAndStartLoading("login",n.data.provider);if(this.options.redirectOnLogin!==!1){var i=this.options.redirectTo||"/account";t.done(function(){document.location=i})}},_logout:function(e,n){this.callAndStartLoading("logout",n.data.provider)},_linkIdentity:function(e,n){this.callAndStartLoading("linkIdentity",n.data.provider,!0)},_unlinkIdentity:function(e,n){this.callAndStartLoading("unlinkIdentity",n.data.provider,!0)}},callAndStartLoading:function(e,n,t){this.$errorContainer.html(""),this.startLoading(),this.$el.addClass("hull-"+e);var i=this,s={provider:n,redirect_url:document.location.origin+"/a/hull-callback"};this.options.redirectTo&&(s.redirect_url+="?redirect_url="+this.options.redirectTo),this.options.strategy?s.strategy=this.options.strategy:this.sandbox.util.isMobile()&&(s.strategy="redirect");var a=this.sandbox[e](s);return a.then(function(){t&&i.stopLoading()},function(e){var t=i.sandbox.util._,s=t.string.camelize(e.reason+"_message");s=i.defaultMessages[s]?s:"fallbackMessage";var a=i.compileMessage(s,t.extend({provider:n},e));i.showErrorMessage(a),i.stopLoading()}),a},startLoading:function(){this.isLoading||(this.$el.addClass("hull-loading"),this.isLoading=!0)},stopLoading:function(){this.isLoading&&(this.$el.removeClass("hull-loading"),this.isLoading=!1)},showErrorMessage:function(e){if(this.options.showErrors!==!1){var n=$(document.createElement("p")).addClass("hull-error").html(e);this.$errorContainer.html(n)}},getClasses:function(){var e=[];return e.push("hull-"+(this.options.inline?"inline":"block")),this.isLoading&&e.push("hull-loading"),e.join(" ")},getProviderMessages:function(e){if(this._providerMessages=this._providerMessages||{},!this._providerMessages[e]){var n=this.sandbox.util._,t={provider:n.string.titleize(e)};this._providerMessages[e]=n.reduce(this.actionMessages,function(e,n){return e[n]=this.compileMessage(n,t),e},{},this)}return this._providerMessages[e]},compileMessage:function(e,n){return this._templates=this._templates||{},this._templates[e]||(this._templates[e]=this.sandbox.util.Handlebars.compile(this.options[e]||this.defaultMessages[e])),this._templates[e](n)},injectLinkTag:function(){if(!this.linkTagInjected&&this.options.injectLinkTag!==!1){var e=document.createElement("link");e.href=this.options.baseUrl+"/style.css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e),this.linkTagInjected=!0}}});