window.CodeMirror=function(){"use strict";function t(r,n){if(!(this instanceof t))return new t(r,n);this.options=n=n||{};for(var i in lo)!n.hasOwnProperty(i)&&lo.hasOwnProperty(i)&&(n[i]=lo[i]);h(n);var o="string"==typeof n.value?0:n.value.first,l=this.display=e(r,o);l.wrapper.CodeMirror=this,c(this),n.autofocus&&!Vi&&pe(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new Xn},a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var s=n.value;"string"==typeof s&&(s=new Co(n.value,n.mode)),le(this,dn)(this,s),Ti&&setTimeout(ni(de,this,!0),20),ge(this);var u;try{u=document.activeElement==l.input}catch(f){}u||n.autofocus&&!Vi?setTimeout(ni(Ee,this),20):ze(this),le(this,function(){for(var t in oo)oo.propertyIsEnumerable(t)&&oo[t](this,n[t],ao);for(var e=0;e<fo.length;++e)fo[e](this)})()}function e(t,e){var r={},n=r.input=li("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");return Hi?n.style.width="1000px":n.setAttribute("wrap","off"),Bi&&(n.style.border="1px solid black"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),r.inputDiv=li("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),r.scrollbarH=li("div",[li("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),r.scrollbarV=li("div",[li("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),r.scrollbarFiller=li("div",null,"CodeMirror-scrollbar-filler"),r.gutterFiller=li("div",null,"CodeMirror-gutter-filler"),r.lineDiv=li("div",null,"CodeMirror-code"),r.selectionDiv=li("div",null,null,"position: relative; z-index: 1"),r.cursor=li("div"," ","CodeMirror-cursor"),r.otherCursor=li("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),r.measure=li("div",null,"CodeMirror-measure"),r.lineSpace=li("div",[r.measure,r.selectionDiv,r.lineDiv,r.cursor,r.otherCursor],null,"position: relative; outline: none"),r.mover=li("div",[li("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=li("div",[r.mover],"CodeMirror-sizer"),r.heightForcer=li("div",null,null,"position: absolute; height: "+Mo+"px; width: 1px;"),r.gutters=li("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=li("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=li("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),Ai&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),t.appendChild?t.appendChild(r.wrapper):t(r.wrapper),Bi&&(n.style.width="0px"),Hi||(r.scroller.draggable=!0),zi?(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute"):Ai&&(r.scrollbarH.style.minWidth=r.scrollbarV.style.minWidth="18px"),r.viewOffset=r.lastSizeC=0,r.showingFrom=r.showingTo=e,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.prevInput="",r.alignWidgets=!1,r.pollingFast=!1,r.poll=new Xn,r.cachedCharWidth=r.cachedTextHeight=null,r.measureLineCache=[],r.measureLineCachePos=0,r.inaccurateSelection=!1,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r}function r(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.frontier=e.doc.first,W(e,100),e.state.modeGen++,e.curOp&&ce(e)}function n(t){t.options.lineWrapping?(t.display.wrapper.className+=" CodeMirror-wrap",t.display.sizer.style.minWidth=""):(t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-wrap",""),f(t)),o(t),ce(t),K(t),setTimeout(function(){d(t)},100)}function i(t){var e=re(t.display),r=t.options.lineWrapping,n=r&&Math.max(5,t.display.scroller.clientWidth/ne(t.display)-3);return function(i){return Gr(t.doc,i)?0:r?(Math.ceil(i.text.length/n)||1)*e:e}}function o(t){var e=t.doc,r=i(t);e.iter(function(t){var e=r(t);e!=t.height&&vn(t,e)})}function l(t){var e=mo[t.options.keyMap],r=e.style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(r?" cm-keymap-"+r:""),t.state.disableInput=e.disableInput}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),K(t)}function s(t){c(t),ce(t),setTimeout(function(){m(t)},20)}function c(t){var e=t.display.gutters,r=t.options.gutters;ai(e);for(var n=0;n<r.length;++n){var i=r[n],o=e.appendChild(li("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none"}function u(t,e){if(0==e.height)return 0;for(var r,n=e.text.length,i=e;r=Br(i);){var o=r.find();i=pn(t,o.from.line),n+=o.from.ch-o.to.ch}for(i=e;r=Vr(i);){var o=r.find();n-=i.text.length-o.from.ch,i=pn(t,o.to.line),n+=i.text.length-o.to.ch}return n}function f(t){var e=t.display,r=t.doc;e.maxLine=pn(r,r.first),e.maxLineLength=u(r,e.maxLine),e.maxLineChanged=!0,r.iter(function(t){var n=u(r,t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function h(t){var e=Jn(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function d(t){var e=t.display,r=t.doc.height,n=r+P(e);e.sizer.style.minHeight=e.heightForcer.style.top=n+"px",e.gutters.style.height=Math.max(n,e.scroller.clientHeight-Mo)+"px";var i=Math.max(n,e.scroller.scrollHeight),o=e.scroller.scrollWidth>e.scroller.clientWidth+1,l=i>e.scroller.clientHeight+1;l?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=o?hi(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=i-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):(e.scrollbarV.style.display="",e.scrollbarV.firstChild.style.height="0"),o?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=l?hi(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):(e.scrollbarH.style.display="",e.scrollbarH.firstChild.style.width="0"),o&&l?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=hi(e.measure)+"px"):e.scrollbarFiller.style.display="",o&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(e.gutterFiller.style.display="block",e.gutterFiller.style.height=hi(e.measure)+"px",e.gutterFiller.style.width=e.gutters.offsetWidth+"px"):e.gutterFiller.style.display="",Ii&&0===hi(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Pi?"18px":"12px",e.scrollbarV.style.pointerEvents=e.scrollbarH.style.pointerEvents="none")}function p(t,e,r){var n=t.scroller.scrollTop,i=t.wrapper.clientHeight;"number"==typeof r?n=r:r&&(n=r.top,i=r.bottom-r.top),n=Math.floor(n-I(t));var o=Math.ceil(n+i);return{from:xn(e,n),to:xn(e,o)}}function m(t){var e=t.display;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=y(e)-e.scroller.scrollLeft+t.doc.scrollLeft,n=e.gutters.offsetWidth,i=r+"px",o=e.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var l=0,a=o.alignable;l<a.length;++l)a[l].style.left=i;t.options.fixedGutter&&(e.gutters.style.left=r+n+"px")}}function g(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=v(t.options,e.first+e.size-1),n=t.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(li("div",[li("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l),n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function v(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function y(t){return ui(t.scroller).left-ui(t.sizer).left}function x(t,e,r,n){for(var i,o=t.display.showingFrom,l=t.display.showingTo,a=p(t.display,t.doc,r),s=!0;;s=!1){var c=t.display.scroller.clientWidth;if(!b(t,e,a,n))break;if(i=!0,e=[],A(t),d(t),s&&t.options.lineWrapping&&c!=t.display.scroller.clientWidth)n=!0;else if(n=!1,r&&(r=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,"number"==typeof r?r:r.top)),a=p(t.display,t.doc,r),a.from>=t.display.showingFrom&&a.to<=t.display.showingTo)break}return i&&(jn(t,"update",t),(t.display.showingFrom!=o||t.display.showingTo!=l)&&jn(t,"viewportChange",t,t.display.showingFrom,t.display.showingTo)),i}function b(t,e,r,n){var i=t.display,o=t.doc;if(!i.wrapper.clientWidth)return i.showingFrom=i.showingTo=o.first,void(i.viewOffset=0);if(!(!n&&0==e.length&&r.from>i.showingFrom&&r.to<i.showingTo)){g(t)&&(e=[{from:o.first,to:o.first+o.size}]);var l=i.sizer.style.marginLeft=i.gutters.offsetWidth+"px";i.scrollbarH.style.left=t.options.fixedGutter?l:"0";var a=1/0;if(t.options.lineNumbers)for(var s=0;s<e.length;++s)e[s].diff&&e[s].from<a&&(a=e[s].from);var c=o.first+o.size,u=Math.max(r.from-t.options.viewportMargin,o.first),f=Math.min(c,r.to+t.options.viewportMargin);if(i.showingFrom<u&&u-i.showingFrom<20&&(u=Math.max(o.first,i.showingFrom)),i.showingTo>f&&i.showingTo-f<20&&(f=Math.min(c,i.showingTo)),qi)for(u=yn(Rr(o,pn(o,u)));c>f&&Gr(o,pn(o,f));)++f;var h=[{from:Math.max(i.showingFrom,o.first),to:Math.min(i.showingTo,c)}];if(h=h[0].from>=h[0].to?[]:k(h,e),qi)for(var s=0;s<h.length;++s)for(var d,p=h[s];d=Vr(pn(o,p.to-1));){var m=d.find().from.line;if(!(m>p.from)){h.splice(s--,1);break}p.to=m}for(var v=0,s=0;s<h.length;++s){var p=h[s];p.from<u&&(p.from=u),p.to>f&&(p.to=f),p.from>=p.to?h.splice(s--,1):v+=p.to-p.from}if(!n&&v==f-u&&u==i.showingFrom&&f==i.showingTo)return void w(t);h.sort(function(t,e){return t.from-e.from});try{var y=document.activeElement}catch(x){}.7*(f-u)>v&&(i.lineDiv.style.display="none"),S(t,u,f,h,a),i.lineDiv.style.display="",y&&document.activeElement!=y&&y.offsetHeight&&y.focus();var b=u!=i.showingFrom||f!=i.showingTo||i.lastSizeC!=i.wrapper.clientHeight;return b&&(i.lastSizeC=i.wrapper.clientHeight,W(t,400)),i.showingFrom=u,i.showingTo=f,C(t),w(t),!0}}function C(t){for(var e,r=t.display,n=r.lineDiv.offsetTop,i=r.lineDiv.firstChild;i;i=i.nextSibling)if(i.lineObj){if(Ai){var o=i.offsetTop+i.offsetHeight;e=o-n,n=o}else{var l=ui(i);e=l.bottom-l.top}var a=i.lineObj.height-e;if(2>e&&(e=re(r)),a>.001||-.001>a){vn(i.lineObj,e);var s=i.lineObj.widgets;if(s)for(var c=0;c<s.length;++c)s[c].height=s[c].node.offsetHeight}}}function w(t){var e=t.display.viewOffset=bn(t,pn(t.doc,t.display.showingFrom));t.display.mover.style.top=e+"px"}function k(t,e){for(var r=0,n=e.length||0;n>r;++r){for(var i=e[r],o=[],l=i.diff||0,a=0,s=t.length;s>a;++a){var c=t[a];i.to<=c.from&&i.diff?o.push({from:c.from+l,to:c.to+l}):i.to<=c.from||i.from>=c.to?o.push(c):(i.from>c.from&&o.push({from:c.from,to:i.from}),i.to<c.to&&o.push({from:i.to+l,to:c.to+l}))}t=o}return t}function L(t){for(var e=t.display,r={},n={},i=e.gutters.firstChild,o=0;i;i=i.nextSibling,++o)r[t.options.gutters[o]]=i.offsetLeft,n[t.options.gutters[o]]=i.offsetWidth;return{fixedPos:y(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function S(t,e,r,n,i){function o(e){var r=e.nextSibling;return Hi&&Ri&&t.display.currentWheelTarget==e?(e.style.display="none",e.lineObj=null):e.parentNode.removeChild(e),r}var l=L(t),a=t.display,s=t.options.lineNumbers;n.length||Hi&&t.display.currentWheelTarget||ai(a.lineDiv);var c=a.lineDiv,u=c.firstChild,f=n.shift(),h=e;for(t.doc.iter(e,r,function(e){if(f&&f.to==h&&(f=n.shift()),Gr(t.doc,e)){if(0!=e.height&&vn(e,0),e.widgets&&u&&u.previousSibling)for(var r=0;r<e.widgets.length;++r){var a=e.widgets[r];if(a.showIfHidden){var d=u.previousSibling;if(/pre/i.test(d.nodeName)){var p=li("div",null,null,"position: relative");d.parentNode.replaceChild(p,d),p.appendChild(d),d=p}var m=d.appendChild(li("div",[a.node],"CodeMirror-linewidget"));a.handleMouseEvents||(m.ignoreEvents=!0),T(a,m,d,l)}}}else if(f&&f.from<=h&&f.to>h){for(;u.lineObj!=e;)u=o(u);s&&h>=i&&u.lineNumber&&ci(u.lineNumber,v(t.options,h)),u=u.nextSibling}else{if(e.widgets)for(var g,y=0,x=u;x&&20>y;++y,x=x.nextSibling)if(x.lineObj==e&&/div/i.test(x.nodeName)){g=x;break}var b=M(t,e,h,l,g);if(b!=g)c.insertBefore(b,u);else{for(;u!=g;)u=o(u);u=u.nextSibling}b.lineObj=e}++h});u;)u=o(u)}function M(t,e,r,n,i){var o,l=rn(t,e),a=l.pre,s=e.gutterMarkers,c=t.display,u=l.bgClass?l.bgClass+" "+(e.bgClass||""):e.bgClass;if(!(t.options.lineNumbers||s||u||e.wrapClass||e.widgets))return a;if(i){i.alignable=null;for(var f,h=!0,d=0,p=null,m=i.firstChild;m;m=f)if(f=m.nextSibling,/\bCodeMirror-linewidget\b/.test(m.className)){for(var g=0;g<e.widgets.length;++g){var y=e.widgets[g];if(y.node==m.firstChild){y.above||p||(p=m),T(y,m,i,n),++d;break}}if(g==e.widgets.length){h=!1;break}}else i.removeChild(m);i.insertBefore(a,p),h&&d==e.widgets.length&&(o=i,i.className=e.wrapClass||"")}if(o||(o=li("div",null,e.wrapClass,"position: relative"),o.appendChild(a)),u&&o.insertBefore(li("div",null,u+" CodeMirror-linebackground"),o.firstChild),t.options.lineNumbers||s){var x=o.insertBefore(li("div",null,null,"position: absolute; left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),o.firstChild);if(t.options.fixedGutter&&(o.alignable||(o.alignable=[])).push(x),!t.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(o.lineNumber=x.appendChild(li("div",v(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+c.lineNumInnerWidth+"px"))),s)for(var b=0;b<t.options.gutters.length;++b){var C=t.options.gutters[b],w=s.hasOwnProperty(C)&&s[C];w&&x.appendChild(li("div",[w],"CodeMirror-gutter-elt","left: "+n.gutterLeft[C]+"px; width: "+n.gutterWidth[C]+"px"))}}if(Ai&&(o.style.zIndex=2),e.widgets&&o!=i)for(var g=0,k=e.widgets;g<k.length;++g){var y=k[g],L=li("div",[y.node],"CodeMirror-linewidget");y.handleMouseEvents||(L.ignoreEvents=!0),T(y,L,o,n),y.above?o.insertBefore(L,t.options.lineNumbers&&0!=e.height?x:a):o.appendChild(L),jn(y,"redraw")}return o}function T(t,e,r,n){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var i=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(i-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function A(t){var e=t.display,r=Xe(t.doc.sel.from,t.doc.sel.to);if(r||t.options.showCursorWhenSelecting?N(t):e.cursor.style.display=e.otherCursor.style.display="none",r?e.selectionDiv.style.display="none":H(t),t.options.moveInputWithCursor){var n=Q(t,t.doc.sel.head,"div"),i=ui(e.wrapper),o=ui(e.lineDiv);e.inputDiv.style.top=Math.max(0,Math.min(e.wrapper.clientHeight-10,n.top+o.top-i.top))+"px",e.inputDiv.style.left=Math.max(0,Math.min(e.wrapper.clientWidth-10,n.left+o.left-i.left))+"px"}}function N(t){var e=t.display,r=Q(t,t.doc.sel.head,"div");e.cursor.style.left=r.left+"px",e.cursor.style.top=r.top+"px",e.cursor.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",e.cursor.style.display="",r.other?(e.otherCursor.style.display="",e.otherCursor.style.left=r.other.left+"px",e.otherCursor.style.top=r.other.top+"px",e.otherCursor.style.height=.85*(r.other.bottom-r.other.top)+"px"):e.otherCursor.style.display="none"}function H(t){function e(t,e,r,n){0>e&&(e=0),l.appendChild(li("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==r?a-t:r)+"px; height: "+(n-e)+"px"))}function r(r,n,o){function l(e,n){return Z(t,$e(r,e),"div",f,n)}var c,u,f=pn(i,r),h=f.text.length;return pi(Cn(f),n||0,null==o?h:o,function(t,r,i){var f,d,p,m=l(t,"left");if(t==r)f=m,d=p=m.left;else{if(f=l(r-1,"right"),"rtl"==i){var g=m;m=f,f=g}d=m.left,p=f.right}null==n&&0==t&&(d=s),f.top-m.top>3&&(e(d,m.top,null,m.bottom),d=s,m.bottom<f.top&&e(d,m.bottom,null,f.top)),null==o&&r==h&&(p=a),(!c||m.top<c.top||m.top==c.top&&m.left<c.left)&&(c=m),(!u||f.bottom>u.bottom||f.bottom==u.bottom&&f.right>u.right)&&(u=f),s+1>d&&(d=s),e(d,f.top,p-d,f.bottom)}),{start:c,end:u}}var n=t.display,i=t.doc,o=t.doc.sel,l=document.createDocumentFragment(),a=n.lineSpace.offsetWidth,s=F(t.display);if(o.from.line==o.to.line)r(o.from.line,o.from.ch,o.to.ch);else{var c=pn(i,o.from.line),u=pn(i,o.to.line),f=Rr(i,c)==Rr(i,u),h=r(o.from.line,o.from.ch,f?c.text.length:null).end,d=r(o.to.line,f?0:null,o.to.ch).start;f&&(h.top<d.top-2?(e(h.right,h.top,null,h.bottom),e(s,d.top,d.left,d.bottom)):e(h.right,h.top,d.left-h.right,h.bottom)),h.bottom<d.top&&e(s,h.bottom,null,d.top)}si(n.selectionDiv,l),n.selectionDiv.style.display=""}function D(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursor.style.visibility=e.otherCursor.style.visibility="",t.options.cursorBlinkRate>0&&(e.blinker=setInterval(function(){e.cursor.style.visibility=e.otherCursor.style.visibility=(r=!r)?"":"hidden"},t.options.cursorBlinkRate))}}function W(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.showingTo&&t.state.highlight.set(e,ni(O,t))}function O(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.showingTo)){var r,n=+new Date+t.options.workTime,i=xr(e.mode,z(t,e.frontier)),o=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.showingTo+500),function(l){if(e.frontier>=t.display.showingFrom){var a=l.styles;l.styles=Qr(t,l,i);for(var s=!a||a.length!=l.styles.length,c=0;!s&&c<a.length;++c)s=a[c]!=l.styles[c];s&&(r&&r.end==e.frontier?r.end++:o.push(r={start:e.frontier,end:e.frontier+1})),l.stateAfter=xr(e.mode,i)}else tn(t,l,i),l.stateAfter=0==e.frontier%5?xr(e.mode,i):null;return++e.frontier,+new Date>n?(W(t,t.options.workDelay),!0):void 0}),o.length&&le(t,function(){for(var t=0;t<o.length;++t)ce(this,o[t].start,o[t].end)})()}}function E(t,e,r){for(var n,i,o=t.doc,l=r?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>l;--a){if(a<=o.first)return o.first;var s=pn(o,a-1);if(s.stateAfter&&(!r||a<=o.frontier))return a;var c=Yn(s.text,null,t.options.tabSize);(null==i||n>c)&&(i=a-1,n=c)}return i}function z(t,e,r){var n=t.doc,i=t.display;if(!n.mode.startState)return!0;var o=E(t,e,r),l=o>n.first&&pn(n,o-1).stateAfter;return l=l?xr(n.mode,l):br(n.mode),n.iter(o,e,function(r){tn(t,r,l);var a=o==e-1||0==o%5||o>=i.showingFrom&&o<i.showingTo;r.stateAfter=a?xr(n.mode,l):null,++o}),r&&(n.frontier=o),l}function I(t){return t.lineSpace.offsetTop}function P(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function F(t){var e=si(t.measure,li("pre",null,null,"text-align: left")).appendChild(li("span","x"));return e.offsetLeft}function B(t,e,r,n,i){var o=-1;if(n=n||G(t,e),n.crude){var l=n.left+r*n.width;return{left:l,right:l+n.width,top:n.top,bottom:n.bottom}}for(var a=r;;a+=o){var s=n[a];if(s)break;0>o&&0==a&&(o=1)}return i=a>r?"left":r>a?"right":i,"left"==i&&s.leftSide?s=s.leftSide:"right"==i&&s.rightSide&&(s=s.rightSide),{left:r>a?s.right:s.left,right:a>r?s.left:s.right,top:s.top,bottom:s.bottom}}function V(t,e){for(var r=t.display.measureLineCache,n=0;n<r.length;++n){var i=r[n];if(i.text==e.text&&i.markedSpans==e.markedSpans&&t.display.scroller.clientWidth==i.width&&i.classes==e.textClass+"|"+e.wrapClass)return i}}function R(t,e){var r=V(t,e);r&&(r.text=r.measure=r.markedSpans=null)}function G(t,e){var r=V(t,e);if(r)return r.measure;var n=j(t,e),i=t.display.measureLineCache,o={text:e.text,width:t.display.scroller.clientWidth,markedSpans:e.markedSpans,measure:n,classes:e.textClass+"|"+e.wrapClass};return 16==i.length?i[++t.display.measureLineCachePos%16]=o:i.push(o),n}function j(t,e){function r(t){var e=t.top-p.top,r=t.bottom-p.top;r>v&&(r=v),0>e&&(e=0);for(var n=m.length-2;n>=0;n-=2){var i=m[n],o=m[n+1];if(!(i>r||e>o)&&(e>=i&&o>=r||i>=e&&r>=o||Math.min(r,o)-Math.max(e,i)>=r-e>>1)){m[n]=Math.min(e,i),m[n+1]=Math.max(r,o);break}}return 0>n&&(n=m.length,m.push(e,r)),{left:t.left-p.left,right:t.right-p.left,top:n,bottom:null}}function n(t){t.bottom=m[t.top+1],t.top=m[t.top]}if(!t.options.lineWrapping&&e.text.length>=t.options.crudeMeasuringFrom)return _(t,e);var i=t.display,o=ri(e.text.length),l=rn(t,e,o,!0).pre;if(Ti&&!Ai&&!t.options.lineWrapping&&l.childNodes.length>100){for(var a=document.createDocumentFragment(),s=10,c=l.childNodes.length,u=0,f=Math.ceil(c/s);f>u;++u){for(var h=li("div",null,null,"display: inline-block"),d=0;s>d&&c;++d)h.appendChild(l.firstChild),--c;a.appendChild(h)}l.appendChild(a)}si(i.measure,l);var p=ui(i.lineDiv),m=[],g=ri(e.text.length),v=l.offsetHeight;Ni&&i.measure.first!=l&&si(i.measure,l);for(var y,u=0;u<o.length;++u)if(y=o[u]){var x=y,b=null;if(/\bCodeMirror-widget\b/.test(y.className)&&y.getClientRects){1==y.firstChild.nodeType&&(x=y.firstChild);var C=x.getClientRects();C.length>1&&(b=g[u]=r(C[0]),b.rightSide=r(C[C.length-1]))}b||(b=g[u]=r(ui(x))),y.measureRight&&(b.right=ui(y.measureRight).left),y.leftSide&&(b.leftSide=r(ui(y.leftSide)))}ai(t.display.measure);for(var y,u=0;u<g.length;++u)(y=g[u])&&(n(y),y.leftSide&&n(y.leftSide),y.rightSide&&n(y.rightSide));return g}function _(t,e){var r=new vo(e.text.slice(0,100),null);e.textClass&&(r.textClass=e.textClass);var n=j(t,r),i=B(t,r,0,n,"left"),o=B(t,r,99,n,"right");return{crude:!0,top:i.top,left:i.left,bottom:i.bottom,width:(o.right-i.left)/100}}function U(t,e){var r=!1;if(e.markedSpans)for(var n=0;n<e.markedSpans;++n){var i=e.markedSpans[n];!i.collapsed||null!=i.to&&i.to!=e.text.length||(r=!0)}var o=!r&&V(t,e);if(o||e.text.length>=t.options.crudeMeasuringFrom)return B(t,e,e.text.length,o&&o.measure,"right").right;var l=rn(t,e,null,!0).pre,a=l.appendChild(di(t.display.measure));return si(t.display.measure,l),ui(a).right-ui(t.display.lineDiv).left}function K(t){t.display.measureLineCache.length=t.display.measureLineCachePos=0,t.display.cachedCharWidth=t.display.cachedTextHeight=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function $(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function X(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Y(t,e,r,n){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=$r(e.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=bn(t,e);if("local"==n?l+=I(t.display):l-=t.display.viewOffset,"page"==n||"window"==n){var a=ui(t.display.lineSpace);l+=a.top+("window"==n?0:X());var s=a.left+("window"==n?0:$());r.left+=s,r.right+=s}return r.top+=l,r.bottom+=l,r}function q(t,e,r){if("div"==r)return e;var n=e.left,i=e.top;if("page"==r)n-=$(),i-=X();else if("local"==r||!r){var o=ui(t.display.sizer);n+=o.left,i+=o.top}var l=ui(t.display.lineSpace);return{left:n-l.left,top:i-l.top}}function Z(t,e,r,n,i){return n||(n=pn(t.doc,e.line)),Y(t,n,B(t,n,e.ch,null,i),r)}function Q(t,e,r,n,i){function o(e,o){var l=B(t,n,e,i,o?"right":"left");return o?l.left=l.right:l.right=l.left,Y(t,n,l,r)}function l(t,e){var r=a[e],n=r.level%2;return t==mi(r)&&e&&r.level<a[e-1].level?(r=a[--e],t=gi(r)-(r.level%2?0:1),n=!0):t==gi(r)&&e<a.length-1&&r.level<a[e+1].level&&(r=a[++e],t=mi(r)-r.level%2,n=!1),n&&t==r.to&&t>r.from?o(t-1):o(t,n)}n=n||pn(t.doc,e.line),i||(i=G(t,n));var a=Cn(n),s=e.ch;if(!a)return o(s);var c=wi(a,s),u=l(s,c);return null!=Fo&&(u.other=l(s,Fo)),u}function J(t,e,r,n){var i=new $e(t,e);return i.xRel=n,r&&(i.outside=!0),i}function te(t,e,r){var n=t.doc;if(r+=t.display.viewOffset,0>r)return J(n.first,0,!0,-1);var i=xn(n,r),o=n.first+n.size-1;if(i>o)return J(n.first+n.size-1,pn(n,o).text.length,!0,1);for(0>e&&(e=0);;){var l=pn(n,i),a=ee(t,l,i,e,r),s=Vr(l),c=s&&s.find();if(!s||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;i=c.to.line}}function ee(t,e,r,n,i){function o(n){var i=Q(t,$e(r,n),"line",e,c);return a=!0,l>i.bottom?i.left-s:l<i.top?i.left+s:(a=!1,i.left)}var l=i-bn(t,e),a=!1,s=2*t.display.wrapper.clientWidth,c=G(t,e),u=Cn(e),f=e.text.length,h=vi(e),d=yi(e),p=o(h),m=a,g=o(d),v=a;if(n>g)return J(r,d,v,1);for(;;){if(u?d==h||d==Li(e,h,1):1>=d-h){for(var y=p>n||g-n>=n-p?h:d,x=n-(y==h?p:g);Ho.test(e.text.charAt(y));)++y;var b=J(r,y,y==h?m:v,0>x?-1:x?1:0);return b}var C=Math.ceil(f/2),w=h+C;if(u){w=h;for(var k=0;C>k;++k)w=Li(e,w,1)}var L=o(w);L>n?(d=w,g=L,(v=a)&&(g+=1e3),f=C):(h=w,p=L,m=a,f-=C)}}function re(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==_i){_i=li("pre");for(var e=0;49>e;++e)_i.appendChild(document.createTextNode("x")),_i.appendChild(li("br"));_i.appendChild(document.createTextNode("x"))}si(t.measure,_i);var r=_i.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),ai(t.measure),r||1}function ne(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=li("span","x"),r=li("pre",[e]);si(t.measure,r);var n=e.offsetWidth;return n>2&&(t.cachedCharWidth=n),n||10}function ie(t){t.curOp={changes:[],forceUpdate:!1,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Zi},So++||(Lo=[])}function oe(t){var e=t.curOp,r=t.doc,n=t.display;if(t.curOp=null,e.updateMaxLine&&f(t),n.maxLineChanged&&!t.options.lineWrapping&&n.maxLine){var i=U(t,n.maxLine);n.sizer.style.minWidth=Math.max(0,i+3+Mo)+"px",n.maxLineChanged=!1;var o=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);o<r.scrollLeft&&!e.updateScrollPos&&Me(t,Math.min(n.scroller.scrollLeft,o),!0)}var l,a;if(e.updateScrollPos)l=e.updateScrollPos;else if(e.selectionChanged&&n.scroller.clientHeight){var s=Q(t,r.sel.head);l=cr(t,s.left,s.top,s.left,s.bottom)}(e.changes.length||e.forceUpdate||l&&null!=l.scrollTop)&&(a=x(t,e.changes,l&&l.scrollTop,e.forceUpdate),t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)),!a&&e.selectionChanged&&A(t),e.updateScrollPos?(n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=l.scrollTop,n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=l.scrollLeft,m(t),e.scrollToPos&&ar(t,Qe(t.doc,e.scrollToPos),e.scrollToPosMargin)):l&&lr(t),e.selectionChanged&&D(t),t.state.focused&&e.updateInput&&de(t,e.userSelChange);var c=e.maybeHiddenMarkers,u=e.maybeUnhiddenMarkers;if(c)for(var h=0;h<c.length;++h)c[h].lines.length||Gn(c[h],"hide");if(u)for(var h=0;h<u.length;++h)u[h].lines.length&&Gn(u[h],"unhide");var d;if(--So||(d=Lo,Lo=null),e.textChanged&&Gn(t,"change",t,e.textChanged),e.cursorActivity&&Gn(t,"cursorActivity",t),d)for(var h=0;h<d.length;++h)d[h]()}function le(t,e){return function(){var r=t||this,n=!r.curOp;n&&ie(r);try{var i=e.apply(r,arguments)}finally{n&&oe(r)}return i}}function ae(t){return function(){var e,r=this.cm&&!this.cm.curOp;r&&ie(this.cm);try{e=t.apply(this,arguments)}finally{r&&oe(this.cm)}return e}}function se(t,e){var r,n=!t.curOp;n&&ie(t);try{r=e()}finally{n&&oe(t)}return r}function ce(t,e,r,n){null==e&&(e=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),t.curOp.changes.push({from:e,to:r,diff:n})}function ue(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){he(t),t.state.focused&&ue(t)})}function fe(t){function e(){var n=he(t);n||r?(t.display.pollingFast=!1,ue(t)):(r=!0,t.display.poll.set(60,e))}var r=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function he(t){var e=t.display.input,r=t.display.prevInput,n=t.doc,i=n.sel;if(!t.state.focused||zo(e)||me(t)||t.state.disableInput)return!1;t.state.pasteIncoming&&t.state.fakedLastChar&&(e.value=e.value.substring(0,e.value.length-1),t.state.fakedLastChar=!1);var o=e.value;if(o==r&&Xe(i.from,i.to))return!1;if(Ti&&!Ni&&t.display.inputHasSelection===o)return de(t,!0),!1;var l=!t.curOp;l&&ie(t),i.shift=!1;for(var a=0,s=Math.min(r.length,o.length);s>a&&r.charCodeAt(a)==o.charCodeAt(a);)++a;var c=i.from,u=i.to;a<r.length?c=$e(c.line,c.ch-(r.length-a)):t.state.overwrite&&Xe(c,u)&&!t.state.pasteIncoming&&(u=$e(u.line,Math.min(pn(n,u.line).text.length,u.ch+(o.length-a))));var f=t.curOp.updateInput,h={from:c,to:u,text:Eo(o.slice(a)),origin:t.state.pasteIncoming?"paste":"+input"};return Ve(t.doc,h,"end"),t.curOp.updateInput=f,jn(t,"inputRead",t,h),o.length>1e3||o.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=o,l&&oe(t),t.state.pasteIncoming=!1,!0}function de(t,e){var r,n,i=t.doc;if(Xe(i.sel.from,i.sel.to))e&&(t.display.prevInput=t.display.input.value="",Ti&&!Ni&&(t.display.inputHasSelection=null));else{t.display.prevInput="",r=Io&&(i.sel.to.line-i.sel.from.line>100||(n=t.getSelection()).length>1e3);var o=r?"-":n||t.getSelection();t.display.input.value=o,t.state.focused&&Qn(t.display.input),Ti&&!Ni&&(t.display.inputHasSelection=o)}t.display.inaccurateSelection=r}function pe(t){"nocursor"==t.options.readOnly||Vi&&document.activeElement==t.display.input||t.display.input.focus()}function me(t){return t.options.readOnly||t.doc.cantEdit}function ge(t){function e(){t.state.focused&&setTimeout(ni(pe,t),0)}function r(){null==a&&(a=setTimeout(function(){a=null,l.cachedCharWidth=l.cachedTextHeight=Wo=null,K(t),se(t,ni(ce,t))},100))}function n(){for(var t=l.wrapper.parentNode;t&&t!=document.body;t=t.parentNode);t?setTimeout(n,5e3):Rn(window,"resize",r)}function i(e){_n(t,e)||t.options.onDragEvent&&t.options.onDragEvent(t,On(e))||Pn(e)}function o(){l.inaccurateSelection&&(l.prevInput="",l.inaccurateSelection=!1,l.input.value=t.getSelection(),Qn(l.input))}var l=t.display;Vn(l.scroller,"mousedown",le(t,xe)),Ti?Vn(l.scroller,"dblclick",le(t,function(e){if(!_n(t,e)){var r=ye(t,e);if(r&&!we(t,e)&&!ve(t.display,e)){En(e);var n=gr(pn(t.doc,r.line).text,r);er(t.doc,n.from,n.to)}}})):Vn(l.scroller,"dblclick",function(e){_n(t,e)||En(e)}),Vn(l.lineSpace,"selectstart",function(t){ve(l,t)||En(t)}),Xi||Vn(l.scroller,"contextmenu",function(e){Ie(t,e)}),Vn(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Se(t,l.scroller.scrollTop),Me(t,l.scroller.scrollLeft,!0),Gn(t,"scroll",t))}),Vn(l.scrollbarV,"scroll",function(){l.scroller.clientHeight&&Se(t,l.scrollbarV.scrollTop)}),Vn(l.scrollbarH,"scroll",function(){l.scroller.clientHeight&&Me(t,l.scrollbarH.scrollLeft)}),Vn(l.scroller,"mousewheel",function(e){Te(t,e)}),Vn(l.scroller,"DOMMouseScroll",function(e){Te(t,e)}),Vn(l.scrollbarH,"mousedown",e),Vn(l.scrollbarV,"mousedown",e),Vn(l.wrapper,"scroll",function(){l.wrapper.scrollTop=l.wrapper.scrollLeft=0});var a;Vn(window,"resize",r),setTimeout(n,5e3),Vn(l.input,"keyup",le(t,function(e){_n(t,e)||t.options.onKeyEvent&&t.options.onKeyEvent(t,On(e))||16==e.keyCode&&(t.doc.sel.shift=!1)})),Vn(l.input,"input",function(){Ti&&!Ni&&t.display.inputHasSelection&&(t.display.inputHasSelection=null),fe(t)}),Vn(l.input,"keydown",le(t,We)),Vn(l.input,"keypress",le(t,Oe)),Vn(l.input,"focus",ni(Ee,t)),Vn(l.input,"blur",ni(ze,t)),t.options.dragDrop&&(Vn(l.scroller,"dragstart",function(e){Le(t,e)}),Vn(l.scroller,"dragenter",i),Vn(l.scroller,"dragover",i),Vn(l.scroller,"drop",le(t,ke))),Vn(l.scroller,"paste",function(e){ve(l,e)||(pe(t),fe(t))}),Vn(l.input,"paste",function(){if(Hi&&!t.state.fakedLastChar&&!(new Date-t.state.lastMiddleDown<200)){var e=l.input.selectionStart,r=l.input.selectionEnd;l.input.value+="$",l.input.selectionStart=e,l.input.selectionEnd=r,t.state.fakedLastChar=!0}t.state.pasteIncoming=!0,fe(t)}),Vn(l.input,"cut",o),Vn(l.input,"copy",o),zi&&Vn(l.sizer,"mouseup",function(){document.activeElement==l.input&&l.input.blur(),pe(t)})}function ve(t,e){for(var r=Fn(e);r!=t.wrapper;r=r.parentNode)if(!r||r.ignoreEvents||r.parentNode==t.sizer&&r!=t.mover)return!0}function ye(t,e,r){var n=t.display;if(!r){var i=Fn(e);if(i==n.scrollbarH||i==n.scrollbarH.firstChild||i==n.scrollbarV||i==n.scrollbarV.firstChild||i==n.scrollbarFiller||i==n.gutterFiller)return null}var o,l,a=ui(n.lineSpace);try{o=e.clientX,l=e.clientY}catch(e){return null}return te(t,o-a.left,l-a.top)}function xe(t){function e(t){if(!Xe(v,t)){if(v=t,"single"==u)return void er(i.doc,Qe(l,s),t);if(m=Qe(l,m),g=Qe(l,g),"double"==u){var e=gr(pn(l,t.line).text,t);Ye(t,m)?er(i.doc,e.from,g):er(i.doc,m,e.to)}else"triple"==u&&(Ye(t,m)?er(i.doc,g,Qe(l,$e(t.line,0))):er(i.doc,m,Qe(l,$e(t.line+1,0))))
}}function r(t){var n=++x,a=ye(i,t,!0);if(a)if(Xe(a,h)){var s=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;s&&setTimeout(le(i,function(){x==n&&(o.scroller.scrollTop+=s,r(t))}),50)}else{i.state.focused||Ee(i),h=a,e(a);var c=p(o,l);(a.line>=c.to||a.line<c.from)&&setTimeout(le(i,function(){x==n&&r(t)}),150)}}function n(t){x=1/0,En(t),pe(i),Rn(document,"mousemove",b),Rn(document,"mouseup",C)}if(!_n(this,t)){var i=this,o=i.display,l=i.doc,a=l.sel;if(a.shift=t.shiftKey,ve(o,t))return void(Hi||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)));if(!we(i,t)){var s=ye(i,t);switch(Bn(t)){case 3:return void(Xi&&Ie.call(i,i,t));case 2:return Hi&&(i.state.lastMiddleDown=+new Date),s&&er(i.doc,s),setTimeout(ni(pe,i),20),void En(t)}if(!s)return void(Fn(t)==o.scroller&&En(t));i.state.focused||Ee(i);var c=+new Date,u="single";if(Ki&&Ki.time>c-400&&Xe(Ki.pos,s))u="triple",En(t),setTimeout(ni(pe,i),20),vr(i,s.line);else if(Ui&&Ui.time>c-400&&Xe(Ui.pos,s)){u="double",Ki={time:c,pos:s},En(t);var f=gr(pn(l,s.line).text,s);er(i.doc,f.from,f.to)}else Ui={time:c,pos:s};var h=s;if(i.options.dragDrop&&Do&&!me(i)&&!Xe(a.from,a.to)&&!Ye(s,a.from)&&!Ye(a.to,s)&&"single"==u){var d=le(i,function(e){Hi&&(o.scroller.draggable=!1),i.state.draggingText=!1,Rn(document,"mouseup",d),Rn(o.scroller,"drop",d),Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)<10&&(En(e),er(i.doc,s),pe(i))});return Hi&&(o.scroller.draggable=!0),i.state.draggingText=d,o.scroller.dragDrop&&o.scroller.dragDrop(),Vn(document,"mouseup",d),void Vn(o.scroller,"drop",d)}En(t),"single"==u&&er(i.doc,Qe(l,s));var m=a.from,g=a.to,v=s,y=ui(o.wrapper),x=0,b=le(i,function(t){Ti||Bn(t)?r(t):n(t)}),C=le(i,n);Vn(document,"mousemove",b),Vn(document,"mouseup",C)}}}function be(t,e,r,n,i){try{var o=e.clientX,l=e.clientY}catch(e){return!1}if(o>=Math.floor(ui(t.display.gutters).right))return!1;n&&En(e);var a=t.display,s=ui(a.lineDiv);if(l>s.bottom||!Kn(t,r))return In(e);l-=s.top-a.viewOffset;for(var c=0;c<t.options.gutters.length;++c){var u=a.gutters.childNodes[c];if(u&&ui(u).right>=o){var f=xn(t.doc,l),h=t.options.gutters[c];return i(t,r,t,f,h,e),In(e)}}}function Ce(t,e){return Kn(t,"gutterContextMenu")?be(t,e,"gutterContextMenu",!1,Gn):!1}function we(t,e){return be(t,e,"gutterClick",!0,jn)}function ke(t){var e=this;if(!(_n(e,t)||ve(e.display,t)||e.options.onDragEvent&&e.options.onDragEvent(e,On(t)))){En(t),Ti&&(Qi=+new Date);var r=ye(e,t,!0),n=t.dataTransfer.files;if(r&&!me(e))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,a=function(t,n){var a=new FileReader;a.onload=function(){o[n]=a.result,++l==i&&(r=Qe(e.doc,r),Ve(e.doc,{from:r,to:r,text:Eo(o.join("\n")),origin:"paste"},"around"))},a.readAsText(t)},s=0;i>s;++s)a(n[s],s);else{if(e.state.draggingText&&!Ye(r,e.doc.sel.from)&&!Ye(e.doc.sel.to,r))return e.state.draggingText(t),void setTimeout(ni(pe,e),20);try{var o=t.dataTransfer.getData("Text");if(o){var c=e.doc.sel.from,u=e.doc.sel.to;nr(e.doc,r,r),e.state.draggingText&&Ke(e.doc,"",c,u,"paste"),e.replaceSelection(o,null,"paste"),pe(e),Ee(e)}}catch(t){}}}}function Le(t,e){if(Ti&&(!t.state.draggingText||+new Date-Qi<100))return void Pn(e);if(!_n(t,e)&&!ve(t.display,e)){var r=t.getSelection();if(e.dataTransfer.setData("Text",r),e.dataTransfer.setDragImage&&!Ei){var n=li("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Oi&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Oi&&n.parentNode.removeChild(n)}}}function Se(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,Mi||x(t,[],e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),Mi&&x(t,[]),W(t,100))}function Me(t,e,r){(r?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,m(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))}function Te(t,e){var r=e.wheelDeltaX,n=e.wheelDeltaY;null==r&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(r=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta);var i=t.display,o=i.scroller;if(r&&o.scrollWidth>o.clientWidth||n&&o.scrollHeight>o.clientHeight){if(n&&Ri&&Hi)for(var l=e.target;l!=o;l=l.parentNode)if(l.lineObj){t.display.currentWheelTarget=l;break}if(r&&!Mi&&!Oi&&null!=to)return n&&Se(t,Math.max(0,Math.min(o.scrollTop+n*to,o.scrollHeight-o.clientHeight))),Me(t,Math.max(0,Math.min(o.scrollLeft+r*to,o.scrollWidth-o.clientWidth))),En(e),void(i.wheelStartX=null);if(n&&null!=to){var a=n*to,s=t.doc.scrollTop,c=s+i.wrapper.clientHeight;0>a?s=Math.max(0,s+a-50):c=Math.min(t.doc.height,c+a+50),x(t,[],{top:s,bottom:c})}20>Ji&&(null==i.wheelStartX?(i.wheelStartX=o.scrollLeft,i.wheelStartY=o.scrollTop,i.wheelDX=r,i.wheelDY=n,setTimeout(function(){if(null!=i.wheelStartX){var t=o.scrollLeft-i.wheelStartX,e=o.scrollTop-i.wheelStartY,r=e&&i.wheelDY&&e/i.wheelDY||t&&i.wheelDX&&t/i.wheelDX;i.wheelStartX=i.wheelStartY=null,r&&(to=(to*Ji+r)/(Ji+1),++Ji)}},200)):(i.wheelDX+=r,i.wheelDY+=n))}}function Ae(t,e,r){if("string"==typeof e&&(e=po[e],!e))return!1;t.display.pollingFast&&he(t)&&(t.display.pollingFast=!1);var n=t.doc,i=n.sel.shift,o=!1;try{me(t)&&(t.state.suppressEdits=!0),r&&(n.sel.shift=!1),o=e(t)!=To}finally{n.sel.shift=i,t.state.suppressEdits=!1}return o}function Ne(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function He(t,e){var r=Cr(t.options.keyMap),n=r.auto;clearTimeout(eo),n&&!kr(e)&&(eo=setTimeout(function(){Cr(t.options.keyMap)==r&&(t.options.keyMap=n.call?n.call(null,t):n,l(t))},50));var i=Lr(e,!0),o=!1;if(!i)return!1;var a=Ne(t);return o=e.shiftKey?wr("Shift-"+i,a,function(e){return Ae(t,e,!0)})||wr(i,a,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?Ae(t,e):void 0}):wr(i,a,function(e){return Ae(t,e)}),o&&(En(e),D(t),Ni&&(e.oldKeyCode=e.keyCode,e.keyCode=0),jn(t,"keyHandled",t,i,e)),o}function De(t,e,r){var n=wr("'"+r+"'",Ne(t),function(e){return Ae(t,e,!0)});return n&&(En(e),D(t),jn(t,"keyHandled",t,"'"+r+"'",e)),n}function We(t){var e=this;if(e.state.focused||Ee(e),!(_n(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,On(t)))){Ti&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.doc.sel.shift=16==r||t.shiftKey;var n=He(e,t);Oi&&(no=n?r:null,!n&&88==r&&!Io&&(Ri?t.metaKey:t.ctrlKey)&&e.replaceSelection(""))}}function Oe(t){var e=this;if(!(_n(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,On(t)))){var r=t.keyCode,n=t.charCode;if(Oi&&r==no)return no=null,void En(t);if(!(Oi&&(!t.which||t.which<10)||zi)||!He(e,t)){var i=String.fromCharCode(null==n?r:n);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!me(this)&&this.doc.mode.electricChars.indexOf(i)>-1&&setTimeout(le(e,function(){hr(e,e.doc.sel.to.line,"smart")}),75),De(e,t,i)||(Ti&&!Ni&&(e.display.inputHasSelection=null),fe(e))}}}function Ee(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(Gn(t,"focus",t),t.state.focused=!0,-1==t.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(t.display.wrapper.className+=" CodeMirror-focused"),t.curOp||(de(t,!0),Hi&&setTimeout(ni(de,t,!0),0))),ue(t),D(t))}function ze(t){t.state.focused&&(Gn(t,"blur",t),t.state.focused=!1,t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.doc.sel.shift=!1)},150)}function Ie(t,e){function r(){if(null!=i.input.selectionStart){var t=i.input.value="​"+(Xe(o.from,o.to)?"":i.input.value);i.prevInput="​",i.input.selectionStart=1,i.input.selectionEnd=t.length}}function n(){if(i.inputDiv.style.position="relative",i.input.style.cssText=s,Ni&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=a),ue(t),null!=i.input.selectionStart){(!Ti||Ni)&&r(),clearTimeout(ro);var e=0,n=function(){" "==i.prevInput&&0==i.input.selectionStart?le(t,po.selectAll)(t):e++<10?ro=setTimeout(n,500):de(t)};ro=setTimeout(n,200)}}if(!_n(t,e,"contextmenu")){var i=t.display,o=t.doc.sel;if(!ve(i,e)&&!Ce(t,e)){var l=ye(t,e),a=i.scroller.scrollTop;if(l&&!Oi){(Xe(o.from,o.to)||Ye(l,o.from)||!Ye(l,o.to))&&le(t,nr)(t.doc,l,l);var s=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",pe(t),de(t,!0),Xe(o.from,o.to)&&(i.input.value=i.prevInput=" "),Ti&&!Ni&&r(),Xi){Pn(e);var c=function(){Rn(window,"mouseup",c),setTimeout(n,20)};Vn(window,"mouseup",c)}else setTimeout(n,50)}}}}function Pe(t,e,r){if(!Ye(e.from,r))return Qe(t,r);var n=e.text.length-1-(e.to.line-e.from.line);if(r.line>e.to.line+n){var i=r.line-n,o=t.first+t.size-1;return i>o?$e(o,pn(t,o).text.length):Je(r,pn(t,i).text.length)}if(r.line==e.to.line+n)return Je(r,Zn(e.text).length+(1==e.text.length?e.from.ch:0)+pn(t,e.to.line).text.length-e.to.ch);var l=r.line-e.from.line;return Je(r,e.text[l].length+(l?0:e.from.ch))}function Fe(t,e,r){if(r&&"object"==typeof r)return{anchor:Pe(t,e,r.anchor),head:Pe(t,e,r.head)};if("start"==r)return{anchor:e.from,head:e.from};var n=io(e);if("around"==r)return{anchor:e.from,head:n};if("end"==r)return{anchor:n,head:n};var i=function(t){if(Ye(t,e.from))return t;if(!Ye(e.to,t))return n;var r=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=n.ch-e.to.ch),$e(r,i)};return{anchor:i(t.sel.anchor),head:i(t.sel.head)}}function Be(t,e,r){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(e,r,n,i){e&&(this.from=Qe(t,e)),r&&(this.to=Qe(t,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Gn(t,"beforeChange",t,n),t.cm&&Gn(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Ve(t,e,r,n){if(t.cm){if(!t.cm.curOp)return le(t.cm,Ve)(t,e,r,n);if(t.cm.state.suppressEdits)return}if(!(Kn(t,"beforeChange")||t.cm&&Kn(t.cm,"beforeChange"))||(e=Be(t,e,!0))){var i=Yi&&!n&&Pr(t,e.from,e.to);if(i){for(var o=i.length-1;o>=1;--o)Re(t,{from:i[o].from,to:i[o].to,text:[""]});i.length&&Re(t,{from:i[0].from,to:i[0].to,text:e.text},r)}else Re(t,e,r)}}function Re(t,e,r){if(1!=e.text.length||""!=e.text[0]||!Xe(e.from,e.to)){var n=Fe(t,e,r);Sn(t,e,n,t.cm?t.cm.curOp.id:0/0),_e(t,e,n,zr(t,e));var i=[];hn(t,function(t,r){r||-1!=Jn(i,t.history)||(Dn(t.history,e),i.push(t.history)),_e(t,e,null,zr(t,e))})}}function Ge(t,e){if(!t.cm||!t.cm.state.suppressEdits){var r=t.history,n=("undo"==e?r.done:r.undone).pop();if(n){var i={changes:[],anchorBefore:n.anchorAfter,headBefore:n.headAfter,anchorAfter:n.anchorBefore,headAfter:n.headBefore,generation:r.generation};("undo"==e?r.undone:r.done).push(i),r.generation=n.generation||++r.maxGeneration;for(var o=Kn(t,"beforeChange")||t.cm&&Kn(t.cm,"beforeChange"),l=n.changes.length-1;l>=0;--l){var a=n.changes[l];if(a.origin=e,o&&!Be(t,a,!1))return void(("undo"==e?r.done:r.undone).length=0);i.changes.push(Ln(t,a));var s=l?Fe(t,a,null):{anchor:n.anchorBefore,head:n.headBefore};_e(t,a,s,Ir(t,a));var c=[];hn(t,function(t,e){e||-1!=Jn(c,t.history)||(Dn(t.history,a),c.push(t.history)),_e(t,a,null,Ir(t,a))})}}}}function je(t,e){function r(t){return $e(t.line+e,t.ch)}t.first+=e,t.cm&&ce(t.cm,t.first,t.first,e),t.sel.head=r(t.sel.head),t.sel.anchor=r(t.sel.anchor),t.sel.from=r(t.sel.from),t.sel.to=r(t.sel.to)}function _e(t,e,r,n){if(t.cm&&!t.cm.curOp)return le(t.cm,_e)(t,e,r,n);if(e.to.line<t.first)return void je(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);je(t,i),e={from:$e(t.first,0),to:$e(e.to.line+i,e.to.ch),text:[Zn(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:$e(o,pn(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=mn(t,e.from,e.to),r||(r=Fe(t,e,null)),t.cm?Ue(t.cm,e,n,r):cn(t,e,n,r)}}function Ue(t,e,r,n){var o=t.doc,l=t.display,a=e.from,s=e.to,c=!1,f=a.line;t.options.lineWrapping||(f=yn(Rr(o,pn(o,a.line))),o.iter(f,s.line+1,function(t){return t==l.maxLine?(c=!0,!0):void 0})),Ye(o.sel.head,e.from)||Ye(e.to,o.sel.head)||(t.curOp.cursorActivity=!0),cn(o,e,r,n,i(t)),t.options.lineWrapping||(o.iter(f,a.line+e.text.length,function(t){var e=u(o,t);e>l.maxLineLength&&(l.maxLine=t,l.maxLineLength=e,l.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),o.frontier=Math.min(o.frontier,a.line),W(t,400);var h=e.text.length-(s.line-a.line)-1;if(ce(t,a.line,s.line+1,h),Kn(t,"change")){var d={from:a,to:s,text:e.text,removed:e.removed,origin:e.origin};if(t.curOp.textChanged){for(var p=t.curOp.textChanged;p.next;p=p.next);p.next=d}else t.curOp.textChanged=d}}function Ke(t,e,r,n,i){if(n||(n=r),Ye(n,r)){var o=n;n=r,r=o}"string"==typeof e&&(e=Eo(e)),Ve(t,{from:r,to:n,text:e,origin:i},null)}function $e(t,e){return this instanceof $e?(this.line=t,void(this.ch=e)):new $e(t,e)}function Xe(t,e){return t.line==e.line&&t.ch==e.ch}function Ye(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function qe(t){return $e(t.line,t.ch)}function Ze(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Qe(t,e){if(e.line<t.first)return $e(t.first,0);var r=t.first+t.size-1;return e.line>r?$e(r,pn(t,r).text.length):Je(e,pn(t,e.line).text.length)}function Je(t,e){var r=t.ch;return null==r||r>e?$e(t.line,e):0>r?$e(t.line,0):t}function tr(t,e){return e>=t.first&&e<t.first+t.size}function er(t,e,r,n){if(t.sel.shift||t.sel.extend){var i=t.sel.anchor;if(r){var o=Ye(e,i);o!=Ye(r,i)?(i=e,e=r):o!=Ye(e,r)&&(e=r)}nr(t,i,e,n)}else nr(t,e,r||e,n);t.cm&&(t.cm.curOp.userSelChange=!0)}function rr(t,e,r){var n={anchor:e,head:r};return Gn(t,"beforeSelectionChange",t,n),t.cm&&Gn(t.cm,"beforeSelectionChange",t.cm,n),n.anchor=Qe(t,n.anchor),n.head=Qe(t,n.head),n}function nr(t,e,r,n,i){if(!i&&Kn(t,"beforeSelectionChange")||t.cm&&Kn(t.cm,"beforeSelectionChange")){var o=rr(t,e,r);r=o.head,e=o.anchor}var l=t.sel;if(l.goalColumn=null,null==n&&(n=Ye(r,l.head)?-1:1),(i||!Xe(e,l.anchor))&&(e=or(t,e,n,"push"!=i)),(i||!Xe(r,l.head))&&(r=or(t,r,n,"push"!=i)),!Xe(l.anchor,e)||!Xe(l.head,r)){l.anchor=e,l.head=r;var a=Ye(r,e);l.from=a?r:e,l.to=a?e:r,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=t.cm.curOp.cursorActivity=!0),jn(t,"cursorActivity",t)}}function ir(t){nr(t.doc,t.doc.sel.from,t.doc.sel.to,null,"push")}function or(t,e,r,n){var i=!1,o=e,l=r||1;t.cantEdit=!1;t:for(;;){var a=pn(t,o.line);if(a.markedSpans)for(var s=0;s<a.markedSpans.length;++s){var c=a.markedSpans[s],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(n&&(Gn(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--s;continue}break}if(!u.atomic)continue;var f=u.find()[0>l?"from":"to"];if(Xe(f,o)&&(f.ch+=l,f.ch<0?f=f.line>t.first?Qe(t,$e(f.line-1)):null:f.ch>a.text.length&&(f=f.line<t.first+t.size-1?$e(f.line+1,0):null),!f)){if(i)return n?(t.cantEdit=!0,$e(t.first,0)):or(t,e,r,!0);i=!0,f=e,l=-l}o=f;continue t}}return o}}function lr(t){var e=ar(t,t.doc.sel.head,t.options.cursorScrollMargin);if(t.state.focused){var r=t.display,n=ui(r.sizer),i=null;if(e.top+n.top<0?i=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Fi){var o="none"==r.cursor.style.display;o&&(r.cursor.style.display="",r.cursor.style.left=e.left+"px",r.cursor.style.top=e.top-r.viewOffset+"px"),r.cursor.scrollIntoView(i),o&&(r.cursor.style.display="none")}}}function ar(t,e,r){for(null==r&&(r=0);;){var n=!1,i=Q(t,e),o=cr(t,i.left,i.top-r,i.left,i.bottom+r),l=t.doc.scrollTop,a=t.doc.scrollLeft;if(null!=o.scrollTop&&(Se(t,o.scrollTop),Math.abs(t.doc.scrollTop-l)>1&&(n=!0)),null!=o.scrollLeft&&(Me(t,o.scrollLeft),Math.abs(t.doc.scrollLeft-a)>1&&(n=!0)),!n)return i}}function sr(t,e,r,n,i){var o=cr(t,e,r,n,i);null!=o.scrollTop&&Se(t,o.scrollTop),null!=o.scrollLeft&&Me(t,o.scrollLeft)}function cr(t,e,r,n,i){var o=t.display,l=re(t.display);0>r&&(r=0);var a=o.scroller.clientHeight-Mo,s=o.scroller.scrollTop,c={},u=t.doc.height+P(o),f=l>r,h=i>u-l;if(s>r)c.scrollTop=f?0:r;else if(i>s+a){var d=Math.min(r,(h?u:i)-a);d!=s&&(c.scrollTop=d)}var p=o.scroller.clientWidth-Mo,m=o.scroller.scrollLeft;e+=o.gutters.offsetWidth,n+=o.gutters.offsetWidth;var g=o.gutters.offsetWidth,v=g+10>e;return m+g>e||v?(v&&(e=0),c.scrollLeft=Math.max(0,e-10-g)):n>p+m-3&&(c.scrollLeft=n+10-p),c}function ur(t,e,r){t.curOp.updateScrollPos={scrollLeft:null==e?t.doc.scrollLeft:e,scrollTop:null==r?t.doc.scrollTop:r}}function fr(t,e,r){var n=t.curOp.updateScrollPos||(t.curOp.updateScrollPos={scrollLeft:t.doc.scrollLeft,scrollTop:t.doc.scrollTop}),i=t.display.scroller;n.scrollTop=Math.max(0,Math.min(i.scrollHeight-i.clientHeight,n.scrollTop+r)),n.scrollLeft=Math.max(0,Math.min(i.scrollWidth-i.clientWidth,n.scrollLeft+e))}function hr(t,e,r,n){var i=t.doc;if(null==r&&(r="add"),"smart"==r)if(t.doc.mode.indent)var o=z(t,e);else r="prev";var l,a=t.options.tabSize,s=pn(i,e),c=Yn(s.text,null,a),u=s.text.match(/^\s*/)[0];if("smart"==r&&(l=t.doc.mode.indent(o,s.text.slice(u.length),s.text),l==To)){if(!n)return;r="prev"}"prev"==r?l=e>i.first?Yn(pn(i,e-1).text,null,a):0:"add"==r?l=c+t.options.indentUnit:"subtract"==r?l=c-t.options.indentUnit:"number"==typeof r&&(l=c+r),l=Math.max(0,l);var f="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(l/a);d;--d)h+=a,f+="	";l>h&&(f+=qn(l-h)),f!=u&&Ke(t.doc,f,$e(e,0),$e(e,u.length),"+input"),s.stateAfter=null}function dr(t,e,r){var n=e,i=e,o=t.doc;return"number"==typeof e?i=pn(o,Ze(o,e)):n=yn(e),null==n?null:r(i,n)?(ce(t,n,n+1),i):null}function pr(t,e,r,n,i){function o(){var e=a+r;return e<t.first||e>=t.first+t.size?f=!1:(a=e,u=pn(t,e))}function l(t){var e=(i?Li:Si)(u,s,r,!0);if(null==e){if(t||!o())return f=!1;s=i?(0>r?yi:vi)(u):0>r?u.text.length:0}else s=e;return!0}var a=e.line,s=e.ch,c=r,u=pn(t,a),f=!0;if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=!0;!(0>r)||l(!p);p=!1){var m=u.text.charAt(s)||"\n",g=ii(m)?"w":d?/\s/.test(m)?null:"p":null;if(h&&h!=g){0>r&&(r=1,l());break}if(g&&(h=g),r>0&&!l(!p))break}var v=or(t,$e(a,s),c,!0);return f||(v.hitSide=!0),v}function mr(t,e,r,n){var i,o=t.doc,l=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+r*(a-(0>r?1.5:.5)*re(t.display))}else"line"==n&&(i=r>0?e.bottom+3:e.top-3);for(;;){var s=te(t,l,i);if(!s.outside)break;if(0>r?0>=i:i>=o.height){s.hitSide=!0;break}i+=5*r}return s}function gr(t,e){var r=e.ch,n=e.ch;if(t){(e.xRel<0||n==t.length)&&r?--r:++n;for(var i=t.charAt(r),o=ii(i)?ii:/\s/.test(i)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!ii(t)};r>0&&o(t.charAt(r-1));)--r;for(;n<t.length&&o(t.charAt(n));)++n}return{from:$e(e.line,r),to:$e(e.line,n)}}function vr(t,e){er(t.doc,$e(e,0),Qe(t.doc,$e(e+1,0)))}function yr(e,r,n,i){t.defaults[e]=r,n&&(oo[e]=i?function(t,e,r){r!=ao&&n(t,e,r)}:n)}function xr(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var r={};for(var n in e){var i=e[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function br(t,e,r){return t.startState?t.startState(e,r):!0}function Cr(t){return"string"==typeof t?mo[t]:t}function wr(t,e,r){function n(e){e=Cr(e);var i=e[t];if(i===!1)return"stop";if(null!=i&&r(i))return!0;if(e.nofallthrough)return"stop";var o=e.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return n(o);for(var l=0,a=o.length;a>l;++l){var s=n(o[l]);if(s)return s}return!1}for(var i=0;i<e.length;++i){var o=n(e[i]);if(o)return"stop"!=o}}function kr(t){var e=Po[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Lr(t,e){if(Oi&&34==t.keyCode&&t["char"])return!1;var r=Po[t.keyCode];return null==r||t.altGraphKey?!1:(t.altKey&&(r="Alt-"+r),($i?t.metaKey:t.ctrlKey)&&(r="Ctrl-"+r),($i?t.ctrlKey:t.metaKey)&&(r="Cmd-"+r),!e&&t.shiftKey&&(r="Shift-"+r),r)}function Sr(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0}function Mr(t,e){this.lines=[],this.type=e,this.doc=t}function Tr(t,e,r,n,i){if(n&&n.shared)return Nr(t,e,r,n,i);if(t.cm&&!t.cm.curOp)return le(t.cm,Tr)(t,e,r,n,i);var o=new Mr(t,i);if("range"==i&&!Ye(e,r))return o;n&&ei(n,o),o.replacedWith&&(o.collapsed=!0,o.replacedWith=li("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||(o.replacedWith.ignoreEvents=!0)),o.collapsed&&(qi=!0),o.addToHistory&&Sn(t,{from:e,to:r,origin:"markText"},{head:t.sel.head,anchor:t.sel.anchor},0/0);var l,a,s,c=e.line,u=0,f=t.cm;if(t.iter(c,r.line+1,function(n){f&&o.collapsed&&!f.options.lineWrapping&&Rr(t,n)==f.display.maxLine&&(s=!0);var i={from:null,to:null,marker:o};u+=n.text.length,c==e.line&&(i.from=e.ch,u-=e.ch),c==r.line&&(i.to=r.ch,u-=n.text.length-r.ch),o.collapsed&&(c==r.line&&(a=Fr(n,r.ch)),c==e.line?l=Fr(n,e.ch):vn(n,0)),Wr(n,i),++c}),o.collapsed&&t.iter(e.line,r.line+1,function(e){Gr(t,e)&&vn(e,0)}),o.clearOnEnter&&Vn(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Yi=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed){if(l!=a)throw new Error("Inserting collapsed marker overlapping an existing one");o.size=u,o.atomic=!0}return f&&(s&&(f.curOp.updateMaxLine=!0),(o.className||o.title||o.startStyle||o.endStyle||o.collapsed)&&ce(f,e.line,r.line+1),o.atomic&&ir(f)),o}function Ar(t,e){this.markers=t,this.primary=e;for(var r=0,n=this;r<t.length;++r)t[r].parent=this,Vn(t[r],"clear",function(){n.clear()})}function Nr(t,e,r,n,i){n=ei(n),n.shared=!1;var o=[Tr(t,e,r,n,i)],l=o[0],a=n.replacedWith;return hn(t,function(t){a&&(n.replacedWith=a.cloneNode(!0)),o.push(Tr(t,Qe(t,e),Qe(t,r),n,i));for(var s=0;s<t.linked.length;++s)if(t.linked[s].isParent)return;l=Zn(o)}),new Ar(o,l)}function Hr(t,e){if(t)for(var r=0;r<t.length;++r){var n=t[r];if(n.marker==e)return n}}function Dr(t,e){for(var r,n=0;n<t.length;++n)t[n]!=e&&(r||(r=[])).push(t[n]);return r}function Wr(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Or(t,e,r){if(t)for(var n,i=0;i<t.length;++i){var o=t[i],l=o.marker,a=null==o.from||(l.inclusiveLeft?o.from<=e:o.from<e);if(a||"bookmark"==l.type&&o.from==e&&(!r||!o.marker.insertLeft)){var s=null==o.to||(l.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push({from:o.from,to:s?null:o.to,marker:l})}}return n}function Er(t,e,r){if(t)for(var n,i=0;i<t.length;++i){var o=t[i],l=o.marker,a=null==o.to||(l.inclusiveRight?o.to>=e:o.to>e);if(a||"bookmark"==l.type&&o.from==e&&(!r||o.marker.insertLeft)){var s=null==o.from||(l.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push({from:s?null:o.from-e,to:null==o.to?null:o.to-e,marker:l})}}return n}function zr(t,e){var r=tr(t,e.from.line)&&pn(t,e.from.line).markedSpans,n=tr(t,e.to.line)&&pn(t,e.to.line).markedSpans;if(!r&&!n)return null;var i=e.from.ch,o=e.to.ch,l=Xe(e.from,e.to),a=Or(r,i,l),s=Er(n,o,l),c=1==e.text.length,u=Zn(e.text).length+(c?i:0);if(a)for(var f=0;f<a.length;++f){var h=a[f];if(null==h.to){var d=Hr(s,h.marker);d?c&&(h.to=null==d.to?null:d.to+u):h.to=i}}if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null!=h.to&&(h.to+=u),null==h.from){var d=Hr(a,h.marker);d||(h.from=u,c&&(a||(a=[])).push(h))}else h.from+=u,c&&(a||(a=[])).push(h)}if(c&&a){for(var f=0;f<a.length;++f)null!=a[f].from&&a[f].from==a[f].to&&"bookmark"!=a[f].marker.type&&a.splice(f--,1);a.length||(a=null)}var p=[a];if(!c){var m,g=e.text.length-2;if(g>0&&a)for(var f=0;f<a.length;++f)null==a[f].to&&(m||(m=[])).push({from:null,to:null,marker:a[f].marker});for(var f=0;g>f;++f)p.push(m);p.push(s)}return p}function Ir(t,e){var r=Tn(t,e),n=zr(t,e);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)t:for(var a=0;a<l.length;++a){for(var s=l[a],c=0;c<o.length;++c)if(o[c].marker==s.marker)continue t;o.push(s)}else l&&(r[i]=l)}return r}function Pr(t,e,r){var n=null;if(t.iter(e.line,r.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var r=t.markedSpans[e].marker;!r.readOnly||n&&-1!=Jn(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:e,to:r}],o=0;o<n.length;++o)for(var l=n[o],a=l.find(),s=0;s<i.length;++s){var c=i[s];if(!Ye(c.to,a.from)&&!Ye(a.to,c.from)){var u=[s,1];(Ye(c.from,a.from)||!l.inclusiveLeft&&Xe(c.from,a.from))&&u.push({from:c.from,to:a.from}),(Ye(a.to,c.to)||!l.inclusiveRight&&Xe(c.to,a.to))&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),s+=u.length-1}}return i}function Fr(t,e){var r,n=qi&&t.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&(null==i.from||i.from<e)&&(null==i.to||i.to>e)&&(!r||r.width<i.marker.width)&&(r=i.marker);return r}function Br(t){return Fr(t,-1)}function Vr(t){return Fr(t,t.text.length+1)}function Rr(t,e){for(var r;r=Br(e);)e=pn(t,r.find().from.line);return e}function Gr(t,e){var r=qi&&e.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.replacedWith&&0==n.from&&n.marker.inclusiveLeft&&jr(t,e,n))return!0}}function jr(t,e,r){if(null==r.to){var n=r.marker.find().to,i=pn(t,n.line);return jr(t,i,Hr(i.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var o,l=0;l<e.markedSpans.length;++l)if(o=e.markedSpans[l],o.marker.collapsed&&!o.marker.replacedWith&&o.from==r.to&&(o.marker.inclusiveLeft||r.marker.inclusiveRight)&&jr(t,e,o))return!0}function _r(t){var e=t.markedSpans;if(e){for(var r=0;r<e.length;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function Ur(t,e){if(e){for(var r=0;r<e.length;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function Kr(t){return function(){var e=!this.cm.curOp;e&&ie(this.cm);try{var r=t.apply(this,arguments)}finally{e&&oe(this.cm)}return r}}function $r(t){return null!=t.height?t.height:(t.node.parentNode&&1==t.node.parentNode.nodeType||si(t.cm.display.measure,li("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function Xr(t,e,r,n){var i=new go(t,r,n);return i.noHScroll&&(t.display.alignWidgets=!0),dr(t,e,function(e){var r=e.widgets||(e.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,!Gr(t.doc,e)||i.showIfHidden){var n=bn(t,e)<t.doc.scrollTop;vn(e,e.height+$r(i)),n&&fr(t,0,i.height)}return!0}),i}function Yr(t,e,r,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),_r(t),Ur(t,r);var i=n?n(t):1;i!=t.height&&vn(t,i)}function qr(t){t.parent=null,_r(t)}function Zr(t,e,r,n,i){var o=r.flattenSpans;null==o&&(o=t.options.flattenSpans);var l,a=0,s=null,c=new Sr(e,t.options.tabSize);for(""==e&&r.blankLine&&r.blankLine(n);!c.eol();)c.pos>t.options.maxHighlightLength?(o=!1,c.pos=e.length,l=null):l=r.token(c,n),o&&s==l||(a<c.start&&i(c.start,s),a=c.start,s=l),c.start=c.pos;for(;a<c.pos;){var u=Math.min(c.pos,a+5e4);i(u,s),a=u}}function Qr(t,e,r){var n=[t.state.modeGen];Zr(t,e.text,t.doc.mode,r,function(t,e){n.push(t,e)});for(var i=0;i<t.state.overlays.length;++i){var o=t.state.overlays[i],l=1,a=0;Zr(t,e.text,o.mode,!0,function(t,e){for(var r=l;t>a;){var i=n[l];i>t&&n.splice(l,1,t,n[l+1],i),l+=2,a=Math.min(t,i)}if(e)if(o.opaque)n.splice(r,l-r,t,e),l=r+2;else for(;l>r;r+=2){var s=n[r+1];n[r+1]=s?s+" "+e:e}})}return n}function Jr(t,e){return e.styles&&e.styles[0]==t.state.modeGen||(e.styles=Qr(t,e,e.stateAfter=z(t,yn(e)))),e.styles}function tn(t,e,r){var n=t.doc.mode,i=new Sr(e.text,t.options.tabSize);for(""==e.text&&n.blankLine&&n.blankLine(r);!i.eol()&&i.pos<=t.options.maxHighlightLength;)n.token(i,r),i.start=i.pos}function en(t,e){if(!t)return null;for(;;){var r=t.match(/(?:^|\s)line-(background-)?(\S+)/);if(!r)break;t=t.slice(0,r.index)+t.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==e[n]?e[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+r[2])}return yo[t]||(yo[t]="cm-"+t.replace(/ +/g," cm-"))}function rn(t,e,r,n){for(var i,o=e,l=!0;i=Br(o);)o=pn(t.doc,i.find().from.line);var a={pre:li("pre"),col:0,pos:0,measure:null,measuredSomething:!1,cm:t,copyWidgets:n};do{o.text&&(l=!1),a.measure=o==e&&r,a.pos=0,a.addToken=a.measure?on:nn,(Ti||Hi)&&t.getOption("lineWrapping")&&(a.addToken=ln(a.addToken));var s=sn(o,a,Jr(t,o));r&&o==e&&!a.measuredSomething&&(r[0]=a.pre.appendChild(di(t.display.measure)),a.measuredSomething=!0),s&&(o=pn(t.doc,s.to.line))}while(s);!r||a.measuredSomething||r[0]||(r[0]=a.pre.appendChild(l?li("span"," "):di(t.display.measure))),a.pre.firstChild||Gr(t.doc,e)||a.pre.appendChild(document.createTextNode(" "));var c;if(r&&Ti&&(c=Cn(o))){var u=c.length-1;c[u].from==c[u].to&&--u;var f=c[u],h=c[u-1];if(f.from+1==f.to&&h&&f.level<h.level){var d=r[a.pos-1];d&&d.parentNode.insertBefore(d.measureRight=di(t.display.measure),d.nextSibling)}}var p=a.textClass?a.textClass+" "+(e.textClass||""):e.textClass;return p&&(a.pre.className=p),Gn(t,"renderLine",t,e,a.pre),a}function nn(t,e,r,n,i,o){if(e){if(xo.test(e))for(var l=document.createDocumentFragment(),a=0;;){xo.lastIndex=a;var s=xo.exec(e),c=s?s.index-a:e.length-a;if(c&&(l.appendChild(document.createTextNode(e.slice(a,a+c))),t.col+=c),!s)break;if(a+=c+1,"	"==s[0]){var u=t.cm.options.tabSize,f=u-t.col%u;l.appendChild(li("span",qn(f),"cm-tab")),t.col+=f}else{var h=li("span","•","cm-invalidchar");h.title="\\u"+s[0].charCodeAt(0).toString(16),l.appendChild(h),t.col+=1}}else{t.col+=e.length;var l=document.createTextNode(e)}if(r||n||i||t.measure){var d=r||"";n&&(d+=n),i&&(d+=i);var h=li("span",[l],d);return o&&(h.title=o),t.pre.appendChild(h)}t.pre.appendChild(l)}}function on(t,e,r,n,i){for(var o=t.cm.options.lineWrapping,l=0;l<e.length;++l){var a=e.charAt(l),s=0==l;a>="�"&&"�">a&&l<e.length-1?(a=e.slice(l,l+2),++l):l&&o&&fi(e,l)&&t.pre.appendChild(li("wbr"));var c=t.measure[t.pos],u=t.measure[t.pos]=nn(t,a,r,s&&n,l==e.length-1&&i);c&&(u.leftSide=c.leftSide||c),Ti&&o&&" "==a&&l&&!/\s/.test(e.charAt(l-1))&&l<e.length-1&&!/\s/.test(e.charAt(l+1))&&(u.style.whiteSpace="normal"),t.pos+=a.length}e.length&&(t.measuredSomething=!0)}function ln(t){function e(t){for(var e=" ",r=0;r<t.length-2;++r)e+=r%2?" ":" ";return e+=" "}return function(r,n,i,o,l,a){return t(r,n.replace(/ {3,}/,e),i,o,l,a)}}function an(t,e,r,n){var i=!n&&r.replacedWith;if(i&&(t.copyWidgets&&(i=i.cloneNode(!0)),t.pre.appendChild(i),t.measure)){if(e)t.measure[t.pos]=i;else{var o=di(t.cm.display.measure);if("bookmark"!=r.type||r.insertLeft){if(t.measure[t.pos])return;t.measure[t.pos]=t.pre.insertBefore(o,i)}else t.measure[t.pos]=t.pre.appendChild(o)}t.measuredSomething=!0}t.pos+=e}function sn(t,e,r){var n=t.markedSpans,i=t.text,o=0;if(n)for(var l,a,s,c,u,f,h=i.length,d=0,p=1,m="",g=0;;){if(g==d){a=s=c=u="",f=null,g=1/0;for(var v=[],y=0;y<n.length;++y){var x=n[y],b=x.marker;x.from<=d&&(null==x.to||x.to>d)?(null!=x.to&&g>x.to&&(g=x.to,s=""),b.className&&(a+=" "+b.className),b.startStyle&&x.from==d&&(c+=" "+b.startStyle),b.endStyle&&x.to==g&&(s+=" "+b.endStyle),b.title&&!u&&(u=b.title),b.collapsed&&(!f||f.marker.size<b.size)&&(f=x)):x.from>d&&g>x.from&&(g=x.from),"bookmark"==b.type&&x.from==d&&b.replacedWith&&v.push(b)}if(f&&(f.from||0)==d&&(an(e,(null==f.to?h:f.to)-d,f.marker,null==f.from),null==f.to))return f.marker.find();if(!f&&v.length)for(var y=0;y<v.length;++y)an(e,0,v[y])}if(d>=h)break;for(var C=Math.min(h,g);;){if(m){var w=d+m.length;if(!f){var k=w>C?m.slice(0,C-d):m;e.addToken(e,k,l?l+a:a,c,d+k.length==g?s:"",u)}if(w>=C){m=m.slice(C-d),d=C;break}d=w,c=""}m=i.slice(o,o=r[p++]),l=en(r[p++],e)}}else for(var p=1;p<r.length;p+=2)e.addToken(e,i.slice(o,o=r[p]),en(r[p+1],e))}function cn(t,e,r,n,i){function o(t){return r?r[t]:null}function l(t,r,n){Yr(t,r,n,i),jn(t,"change",t,e)
}var a=e.from,s=e.to,c=e.text,u=pn(t,a.line),f=pn(t,s.line),h=Zn(c),d=o(c.length-1),p=s.line-a.line;if(0==a.ch&&0==s.ch&&""==h){for(var m=0,g=c.length-1,v=[];g>m;++m)v.push(new vo(c[m],o(m),i));l(f,f.text,d),p&&t.remove(a.line,p),v.length&&t.insert(a.line,v)}else if(u==f)if(1==c.length)l(u,u.text.slice(0,a.ch)+h+u.text.slice(s.ch),d);else{for(var v=[],m=1,g=c.length-1;g>m;++m)v.push(new vo(c[m],o(m),i));v.push(new vo(h+u.text.slice(s.ch),d,i)),l(u,u.text.slice(0,a.ch)+c[0],o(0)),t.insert(a.line+1,v)}else if(1==c.length)l(u,u.text.slice(0,a.ch)+c[0]+f.text.slice(s.ch),o(0)),t.remove(a.line+1,p);else{l(u,u.text.slice(0,a.ch)+c[0],o(0)),l(f,h+f.text.slice(s.ch),d);for(var m=1,g=c.length-1,v=[];g>m;++m)v.push(new vo(c[m],o(m),i));p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,v)}jn(t,"change",t,e),nr(t,n.anchor,n.head,null,!0)}function un(t){this.lines=t,this.parent=null;for(var e=0,r=t.length,n=0;r>e;++e)t[e].parent=this,n+=t[e].height;this.height=n}function fn(t){this.children=t;for(var e=0,r=0,n=0,i=t.length;i>n;++n){var o=t[n];e+=o.chunkSize(),r+=o.height,o.parent=this}this.size=e,this.height=r,this.parent=null}function hn(t,e,r){function n(t,i,o){if(t.linked)for(var l=0;l<t.linked.length;++l){var a=t.linked[l];if(a.doc!=i){var s=o&&a.sharedHist;(!r||s)&&(e(a.doc,s),n(a.doc,t,s))}}}n(t,null,!0)}function dn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,o(t),r(t),t.options.lineWrapping||f(t),t.options.mode=e.modeOption,ce(t)}function pn(t,e){for(e-=t.first;!t.lines;)for(var r=0;;++r){var n=t.children[r],i=n.chunkSize();if(i>e){t=n;break}e-=i}return t.lines[e]}function mn(t,e,r){var n=[],i=e.line;return t.iter(e.line,r.line+1,function(t){var o=t.text;i==r.line&&(o=o.slice(0,r.ch)),i==e.line&&(o=o.slice(e.ch)),n.push(o),++i}),n}function gn(t,e,r){var n=[];return t.iter(e,r,function(t){n.push(t.text)}),n}function vn(t,e){for(var r=e-t.height,n=t;n;n=n.parent)n.height+=r}function yn(t){if(null==t.parent)return null;for(var e=t.parent,r=Jn(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var i=0;n.children[i]!=e;++i)r+=n.children[i].chunkSize();return r+e.first}function xn(t,e){var r=t.first;t:do{for(var n=0,i=t.children.length;i>n;++n){var o=t.children[n],l=o.height;if(l>e){t=o;continue t}e-=l,r+=o.chunkSize()}return r}while(!t.lines);for(var n=0,i=t.lines.length;i>n;++n){var a=t.lines[n],s=a.height;if(s>e)break;e-=s}return r+n}function bn(t,e){e=Rr(t.doc,e);for(var r=0,n=e.parent,i=0;i<n.lines.length;++i){var o=n.lines[i];if(o==e)break;r+=o.height}for(var l=n.parent;l;n=l,l=n.parent)for(var i=0;i<l.children.length;++i){var a=l.children[i];if(a==n)break;r+=a.height}return r}function Cn(t){var e=t.order;return null==e&&(e=t.order=Bo(t.text)),e}function wn(t){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,generation:t||1,maxGeneration:t||1}}function kn(t,e,r,n){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,n),function(r){r.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=r.markedSpans),++o})}function Ln(t,e){var r={line:e.from.line,ch:e.from.ch},n={from:r,to:io(e),text:mn(t,e.from,e.to)};return kn(t,n,e.from.line,e.to.line+1),hn(t,function(t){kn(t,n,e.from.line,e.to.line+1)},!0),n}function Sn(t,e,r,n){var i=t.history;i.undone.length=0;var o=+new Date,l=Zn(i.done);if(l&&(i.lastOp==n||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastTime>o-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))){var a=Zn(l.changes);Xe(e.from,e.to)&&Xe(e.from,a.to)?a.to=io(e):l.changes.push(Ln(t,e)),l.anchorAfter=r.anchor,l.headAfter=r.head}else for(l={changes:[Ln(t,e)],generation:i.generation,anchorBefore:t.sel.anchor,headBefore:t.sel.head,anchorAfter:r.anchor,headAfter:r.head},i.done.push(l),i.generation=++i.maxGeneration;i.done.length>i.undoDepth;)i.done.shift();i.lastTime=o,i.lastOp=n,i.lastOrigin=e.origin}function Mn(t){if(!t)return null;for(var e,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function Tn(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var n=0,i=[];n<e.text.length;++n)i.push(Mn(r[n]));return i}function An(t,e){for(var r=0,n=[];r<t.length;++r){var i=t[r],o=i.changes,l=[];n.push({changes:l,anchorBefore:i.anchorBefore,headBefore:i.headBefore,anchorAfter:i.anchorAfter,headAfter:i.headAfter});for(var a=0;a<o.length;++a){var s,c=o[a];if(l.push({from:c.from,to:c.to,text:c.text}),e)for(var u in c)(s=u.match(/^spans_(\d+)$/))&&Jn(e,Number(s[1]))>-1&&(Zn(l)[u]=c[u],delete c[u])}}return n}function Nn(t,e,r,n){r<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function Hn(t,e,r,n){for(var i=0;i<t.length;++i){for(var o=t[i],l=!0,a=0;a<o.changes.length;++a){var s=o.changes[a];if(o.copied||(s.from=qe(s.from),s.to=qe(s.to)),r<s.from.line)s.from.line+=n,s.to.line+=n;else if(e<=s.to.line){l=!1;break}}o.copied||(o.anchorBefore=qe(o.anchorBefore),o.headBefore=qe(o.headBefore),o.anchorAfter=qe(o.anchorAfter),o.readAfter=qe(o.headAfter),o.copied=!0),l?(Nn(o.anchorBefore),Nn(o.headBefore),Nn(o.anchorAfter),Nn(o.headAfter)):(t.splice(0,i+1),i=0)}}function Dn(t,e){var r=e.from.line,n=e.to.line,i=e.text.length-(n-r)-1;Hn(t.done,r,n,i),Hn(t.undone,r,n,i)}function Wn(){Pn(this)}function On(t){return t.stop||(t.stop=Wn),t}function En(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function zn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function In(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Pn(t){En(t),zn(t)}function Fn(t){return t.target||t.srcElement}function Bn(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Ri&&t.ctrlKey&&1==e&&(e=3),e}function Vn(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var n=t._handlers||(t._handlers={}),i=n[e]||(n[e]=[]);i.push(r)}}function Rn(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else{var n=t._handlers&&t._handlers[e];if(!n)return;for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}}function Gn(t,e){var r=t._handlers&&t._handlers[e];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function jn(t,e){function r(t){return function(){t.apply(null,i)}}var n=t._handlers&&t._handlers[e];if(n){var i=Array.prototype.slice.call(arguments,2);Lo||(++So,Lo=[],setTimeout(Un,0));for(var o=0;o<n.length;++o)Lo.push(r(n[o]))}}function _n(t,e,r){return Gn(t,r||e.type,t,e),In(e)||e.codemirrorIgnore}function Un(){--So;var t=Lo;Lo=null;for(var e=0;e<t.length;++e)t[e]()}function Kn(t,e){var r=t._handlers&&t._handlers[e];return r&&r.length>0}function $n(t){t.prototype.on=function(t,e){Vn(this,t,e)},t.prototype.off=function(t,e){Rn(this,t,e)}}function Xn(){this.id=null}function Yn(t,e,r,n,i){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=n||0,l=i||0;e>o;++o)"	"==t.charAt(o)?l+=r-l%r:++l;return l}function qn(t){for(;Ao.length<=t;)Ao.push(Zn(Ao)+" ");return Ao[t]}function Zn(t){return t[t.length-1]}function Qn(t){if(Bi)t.selectionStart=0,t.selectionEnd=t.value.length;else try{t.select()}catch(e){}}function Jn(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;n>r;++r)if(t[r]==e)return r;return-1}function ti(t,e){function r(){}r.prototype=t;var n=new r;return e&&ei(e,n),n}function ei(t,e){e||(e={});for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function ri(t){for(var e=[],r=0;t>r;++r)e.push(void 0);return e}function ni(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function ii(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||No.test(t))}function oi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function li(t,e,r,n){var i=document.createElement(t);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof e)ci(i,e);else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function ai(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function si(t,e){return ai(t).appendChild(e)}function ci(t,e){Ni?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.textContent=e}function ui(t){return t.getBoundingClientRect()}function fi(){return!1}function hi(t){if(null!=Wo)return Wo;var e=li("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return si(t,e),e.offsetWidth&&(Wo=e.offsetHeight-e.clientHeight),Wo||0}function di(t){if(null==Oo){var e=li("span","​");si(t,li("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Oo=e.offsetWidth<=1&&e.offsetHeight>2&&!Ai)}return Oo?li("span","​"):li("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function pi(t,e,r,n){if(!t)return n(e,r,"ltr");for(var i=!1,o=0;o<t.length;++o){var l=t[o];(l.from<r&&l.to>e||e==r&&l.to==e)&&(n(Math.max(l.from,e),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(e,r,"ltr")}function mi(t){return t.level%2?t.to:t.from}function gi(t){return t.level%2?t.from:t.to}function vi(t){var e=Cn(t);return e?mi(e[0]):0}function yi(t){var e=Cn(t);return e?gi(Zn(e)):t.text.length}function xi(t,e){var r=pn(t.doc,e),n=Rr(t.doc,r);n!=r&&(e=yn(n));var i=Cn(n),o=i?i[0].level%2?yi(n):vi(n):0;return $e(e,o)}function bi(t,e){for(var r,n;r=Vr(n=pn(t.doc,e));)e=r.find().to.line;var i=Cn(n),o=i?i[0].level%2?vi(n):yi(n):n.text.length;return $e(e,o)}function Ci(t,e,r){var n=t[0].level;return e==n?!0:r==n?!1:r>e}function wi(t,e){for(var r,n=0;n<t.length;++n){var i=t[n];if(i.from<e&&i.to>e)return Fo=null,n;if(i.from==e||i.to==e){if(null!=r)return Ci(t,i.level,t[r].level)?(Fo=r,n):(Fo=n,r);r=n}}return Fo=null,r}function ki(t,e,r,n){if(!n)return e+r;do e+=r;while(e>0&&Ho.test(t.text.charAt(e)));return e}function Li(t,e,r,n){var i=Cn(t);if(!i)return Si(t,e,r,n);for(var o=wi(i,e),l=i[o],a=ki(t,e,l.level%2?-r:r,n);;){if(a>l.from&&a<l.to)return a;if(a==l.from||a==l.to)return wi(i,a)==o?a:(l=i[o+=r],r>0==l.level%2?l.to:l.from);if(l=i[o+=r],!l)return null;a=r>0==l.level%2?ki(t,l.to,-1,n):ki(t,l.from,1,n)}}function Si(t,e,r,n){var i=e+r;if(n)for(;i>0&&Ho.test(t.text.charAt(i));)i+=r;return 0>i||i>t.text.length?null:i}var Mi=/gecko\/\d/i.test(navigator.userAgent),Ti=/MSIE \d/.test(navigator.userAgent),Ai=Ti&&(null==document.documentMode||document.documentMode<8),Ni=Ti&&(null==document.documentMode||document.documentMode<9),Hi=/WebKit\//.test(navigator.userAgent),Di=Hi&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Wi=/Chrome\//.test(navigator.userAgent),Oi=/Opera\//.test(navigator.userAgent),Ei=/Apple Computer/.test(navigator.vendor),zi=/KHTML\//.test(navigator.userAgent),Ii=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Pi=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Fi=/PhantomJS/.test(navigator.userAgent),Bi=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Vi=Bi||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Ri=Bi||/Mac/.test(navigator.platform),Gi=/win/i.test(navigator.platform),ji=Oi&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ji&&(ji=Number(ji[1])),ji&&ji>=15&&(Oi=!1,Hi=!0);var _i,Ui,Ki,$i=Ri&&(Di||Oi&&(null==ji||12.11>ji)),Xi=Mi||Ti&&!Ni,Yi=!1,qi=!1,Zi=0,Qi=0,Ji=0,to=null;Ti?to=-.53:Mi?to=15:Wi?to=-.7:Ei&&(to=-1/3);var eo,ro,no=null,io=t.changeEnd=function(t){return t.text?$e(t.from.line+t.text.length-1,Zn(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.Pos=$e,t.prototype={constructor:t,focus:function(){window.focus(),pe(this),Ee(this),fe(this)},setOption:function(t,e){var r=this.options,n=r[t];(r[t]!=e||"mode"==t)&&(r[t]=e,oo.hasOwnProperty(t)&&le(this,oo[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,r=0;r<e.length;++r)if(e[r]==t||"string"!=typeof e[r]&&e[r].name==t)return e.splice(r,1),!0},addOverlay:le(null,function(e,r){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:r&&r.opaque}),this.state.modeGen++,ce(this)}),removeOverlay:le(null,function(t){for(var e=this.state.overlays,r=0;r<e.length;++r){var n=e[r].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(r,1),this.state.modeGen++,void ce(this)}}),indentLine:le(null,function(t,e,r){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),tr(this.doc,t)&&hr(this,t,e,r)}),indentSelection:le(null,function(t){var e=this.doc.sel;if(Xe(e.from,e.to))return hr(this,e.from.line,t);for(var r=e.to.line-(e.to.ch?0:1),n=e.from.line;r>=n;++n)hr(this,n,t)}),getTokenAt:function(t,e){var r=this.doc;t=Qe(r,t);for(var n=z(this,t.line,e),i=this.doc.mode,o=pn(r,t.line),l=new Sr(o.text,this.options.tabSize);l.pos<t.ch&&!l.eol();){l.start=l.pos;var a=i.token(l,n)}return{start:l.start,end:l.pos,string:l.current(),className:a||null,type:a||null,state:n}},getTokenTypeAt:function(t){t=Qe(this.doc,t);var e=Jr(this,pn(this.doc,t.line)),r=0,n=(e.length-1)/2,i=t.ch;if(0==i)return e[2];for(;;){var o=r+n>>1;if((o?e[2*o-1]:0)>=i)n=o;else{if(!(e[2*o+1]<i))return e[2*o+2];r=o+1}}},getModeAt:function(e){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(e).state).mode:r},getHelper:function(t,e){if(ho.hasOwnProperty(e)){var r=ho[e],n=this.getModeAt(t);return n[e]&&r[n[e]]||n.helperType&&r[n.helperType]||r[n.name]}},getStateAfter:function(t,e){var r=this.doc;return t=Ze(r,null==t?r.first+r.size-1:t),z(this,t+1,e)},cursorCoords:function(t,e){var r,n=this.doc.sel;return r=null==t?n.head:"object"==typeof t?Qe(this.doc,t):t?n.from:n.to,Q(this,r,e||"page")},charCoords:function(t,e){return Z(this,Qe(this.doc,t),e||"page")},coordsChar:function(t,e){return t=q(this,t,e||"page"),te(this,t.left,t.top)},lineAtHeight:function(t,e){return t=q(this,{top:t,left:0},e||"page").top,xn(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var r=!1,n=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>n&&(t=n,r=!0);var i=pn(this.doc,t);return Y(this,pn(this.doc,t),{top:0,left:0},e||"page").top+(r?i.height:0)},defaultTextHeight:function(){return re(this.display)},defaultCharWidth:function(){return ne(this.display)},setGutterMarker:le(null,function(t,e,r){return dr(this,t,function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=r,!r&&oi(n)&&(t.gutterMarkers=null),!0})}),clearGutter:le(null,function(t){var e=this,r=e.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[t]&&(r.gutterMarkers[t]=null,ce(e,n,n+1),oi(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),addLineClass:le(null,function(t,e,r){return dr(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[n]){if(new RegExp("(?:^|\\s)"+r+"(?:$|\\s)").test(t[n]))return!1;t[n]+=" "+r}else t[n]=r;return!0})}),removeLineClass:le(null,function(t,e,r){return dr(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",i=t[n];if(!i)return!1;if(null==r)t[n]=null;else{var o=i.match(new RegExp("(?:^|\\s+)"+r+"(?:$|\\s+)"));if(!o)return!1;var l=o.index+o[0].length;t[n]=i.slice(0,o.index)+(o.index&&l!=i.length?" ":"")+i.slice(l)||null}return!0})}),addLineWidget:le(null,function(t,e,r){return Xr(this,t,e,r)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!tr(this.doc,t))return null;var e=t;if(t=pn(this.doc,t),!t)return null}else{var e=yn(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(t,e,r,n,i){var o=this.display;t=Q(this,Qe(this.doc,t));var l=t.bottom,a=t.left;if(e.style.position="absolute",o.sizer.appendChild(e),"over"==n)l=t.top;else if("above"==n||"near"==n){var s=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>s)&&t.top>e.offsetHeight?l=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=s&&(l=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=l+"px",e.style.left=e.style.right="","right"==i?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),r&&sr(this,a,l,a+e.offsetWidth,l+e.offsetHeight)},triggerOnKeyDown:le(null,We),execCommand:function(t){return po[t](this)},findPosH:function(t,e,r,n){var i=1;0>e&&(i=-1,e=-e);for(var o=0,l=Qe(this.doc,t);e>o&&(l=pr(this.doc,l,i,r,n),!l.hitSide);++o);return l},moveH:le(null,function(t,e){var r,n=this.doc.sel;r=n.shift||n.extend||Xe(n.from,n.to)?pr(this.doc,n.head,t,e,this.options.rtlMoveVisually):0>t?n.from:n.to,er(this.doc,r,r,t)}),deleteH:le(null,function(t,e){var r=this.doc.sel;Xe(r.from,r.to)?Ke(this.doc,"",r.from,pr(this.doc,r.head,t,e,!1),"+delete"):Ke(this.doc,"",r.from,r.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(t,e,r,n){var i=1,o=n;0>e&&(i=-1,e=-e);for(var l=0,a=Qe(this.doc,t);e>l;++l){var s=Q(this,a,"div");if(null==o?o=s.left:s.left=o,a=mr(this,s,i,r),a.hitSide)break}return a},moveV:le(null,function(t,e){var r=this.doc.sel,n=Q(this,r.head,"div");null!=r.goalColumn&&(n.left=r.goalColumn);var i=mr(this,n,t,e);"page"==e&&fr(this,0,Z(this,i,"div").top-n.top),er(this.doc,i,i,t),r.goalColumn=n.left}),toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""))},hasFocus:function(){return this.state.focused},scrollTo:le(null,function(t,e){ur(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller,e=Mo;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:le(null,function(t,e){"number"==typeof t&&(t=$e(t,0)),e||(e=0);var r=t;t&&null==t.line||(this.curOp.scrollToPos=t?Qe(this.doc,t):this.doc.sel.head,this.curOp.scrollToPosMargin=e,r=Q(this,this.curOp.scrollToPos));var n=cr(this,r.left,r.top-e,r.right,r.bottom+e);ur(this,n.scrollLeft,n.scrollTop)}),setSize:le(null,function(t,e){function r(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&(this.display.measureLineCache.length=this.display.measureLineCachePos=0),this.curOp.forceUpdate=!0}),operation:function(t){return se(this,t)},refresh:le(null,function(){var t=null==this.display.cachedTextHeight;K(this),ur(this,this.doc.scrollLeft,this.doc.scrollTop),ce(this),t&&o(this)}),swapDoc:le(null,function(t){var e=this.doc;return e.cm=null,dn(this,t),K(this),de(this,!0),ur(this,t.scrollLeft,t.scrollTop),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$n(t);var oo=t.optionHandlers={},lo=t.defaults={},ao=t.Init={toString:function(){return"CodeMirror.Init"}};yr("value","",function(t,e){t.setValue(e)},!0),yr("mode",null,function(t,e){t.doc.modeOption=e,r(t)},!0),yr("indentUnit",2,r,!0),yr("indentWithTabs",!1),yr("smartIndent",!0),yr("tabSize",4,function(t){r(t),K(t),ce(t)},!0),yr("electricChars",!0),yr("rtlMoveVisually",!Gi),yr("theme","default",function(t){a(t),s(t)},!0),yr("keyMap","default",l),yr("extraKeys",null),yr("onKeyEvent",null),yr("onDragEvent",null),yr("lineWrapping",!1,n,!0),yr("gutters",[],function(t){h(t.options),s(t)},!0),yr("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?y(t.display)+"px":"0",t.refresh()},!0),yr("coverGutterNextToScrollbar",!1,d,!0),yr("lineNumbers",!1,function(t){h(t.options),s(t)},!0),yr("firstLineNumber",1,s,!0),yr("lineNumberFormatter",function(t){return t},s,!0),yr("showCursorWhenSelecting",!1,A,!0),yr("readOnly",!1,function(t,e){"nocursor"==e?(ze(t),t.display.input.blur()):e||de(t,!0)}),yr("dragDrop",!0),yr("cursorBlinkRate",530),yr("cursorScrollMargin",0),yr("cursorHeight",1),yr("workTime",100),yr("workDelay",100),yr("flattenSpans",!0),yr("pollInterval",100),yr("undoDepth",40,function(t,e){t.doc.history.undoDepth=e}),yr("historyEventDelay",500),yr("viewportMargin",10,function(t){t.refresh()},!0),yr("maxHighlightLength",1e4,function(t){r(t),t.refresh()},!0),yr("crudeMeasuringFrom",1e4),yr("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),yr("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),yr("autofocus",null);var so=t.modes={},co=t.mimeModes={};t.defineMode=function(e,r){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){r.dependencies=[];for(var n=2;n<arguments.length;++n)r.dependencies.push(arguments[n])}so[e]=r},t.defineMIME=function(t,e){co[t]=e},t.resolveMode=function(e){if("string"==typeof e&&co.hasOwnProperty(e))e=co[e];else if(e&&"string"==typeof e.name&&co.hasOwnProperty(e.name)){var r=co[e.name];e=ti(r,e),e.name=r.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,r){var r=t.resolveMode(r),n=so[r.name];if(!n)return t.getMode(e,"text/plain");var i=n(e,r);if(uo.hasOwnProperty(r.name)){var o=uo[r.name];for(var l in o)o.hasOwnProperty(l)&&(i.hasOwnProperty(l)&&(i["_"+l]=i[l]),i[l]=o[l])}return i.name=r.name,i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var uo=t.modeExtensions={};t.extendMode=function(t,e){var r=uo.hasOwnProperty(t)?uo[t]:uo[t]={};ei(e,r)},t.defineExtension=function(e,r){t.prototype[e]=r},t.defineDocExtension=function(t,e){Co.prototype[t]=e},t.defineOption=yr;var fo=[];t.defineInitHook=function(t){fo.push(t)};var ho=t.helpers={};t.registerHelper=function(e,r,n){ho.hasOwnProperty(e)||(ho[e]=t[e]={}),ho[e][r]=n},t.isWordChar=ii,t.copyState=xr,t.startState=br,t.innerMode=function(t,e){for(;t.innerMode;){var r=t.innerMode(e);if(!r||r.mode==t)break;e=r.state,t=r.mode}return r||{mode:t,state:e}};var po=t.commands={selectAll:function(t){t.setSelection($e(t.firstLine(),0),$e(t.lastLine()))},killLine:function(t){var e=t.getCursor(!0),r=t.getCursor(!1),n=!Xe(e,r);n||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,n?r:$e(e.line),"+delete"):t.replaceRange("",e,$e(e.line+1,0),"+delete")},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",$e(e,0),$e(e),"+delete")},delLineLeft:function(t){var e=t.getCursor();t.replaceRange("",$e(e.line,0),e,"+delete")},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.extendSelection($e(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection($e(t.lastLine()))},goLineStart:function(t){t.extendSelection(xi(t,t.getCursor().line))},goLineStartSmart:function(t){var e=t.getCursor(),r=xi(t,e.line),n=t.getLineHandle(r.line),i=Cn(n);if(i&&0!=i[0].level)t.extendSelection(r);else{var o=Math.max(0,n.text.search(/\S/)),l=e.line==r.line&&e.ch<=o&&e.ch;t.extendSelection($e(r.line,l?0:o))}},goLineEnd:function(t){t.extendSelection(bi(t,t.getCursor().line))},goLineRight:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div"))},goLineLeft:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:0,top:e},"div"))},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	","end","+input")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.replaceSelection("	","end","+input")},transposeChars:function(t){var e=t.getCursor(),r=t.getLine(e.line);e.ch>0&&e.ch<r.length-1&&t.replaceRange(r.charAt(e.ch)+r.charAt(e.ch-1),$e(e.line,e.ch-1),$e(e.line,e.ch+1))},newlineAndIndent:function(t){le(t,function(){t.replaceSelection("\n","end","+input"),t.indentLine(t.getCursor().line,null,!0)})()},toggleOverwrite:function(t){t.toggleOverwrite()}},mo=t.keyMap={};mo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},mo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},mo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},mo["default"]=Ri?mo.macDefault:mo.pcDefault,mo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.lookupKey=wr,t.isModifierKey=kr,t.keyName=Lr,t.fromTextArea=function(e,r){function n(){e.value=c.getValue()}if(r||(r={}),r.value=e.value,!r.tabindex&&e.tabindex&&(r.tabindex=e.tabindex),!r.placeholder&&e.placeholder&&(r.placeholder=e.placeholder),null==r.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}r.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(Vn(e.form,"submit",n),!r.leaveSubmitMethodAlone)){var l=e.form,a=l.submit;try{var s=l.submit=function(){n(),l.submit=a,l.submit(),l.submit=s}}catch(o){}}e.style.display="none";var c=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},r);return c.save=n,c.getTextArea=function(){return e},c.toTextArea=function(){n(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(Rn(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=a))},c},Sr.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var r=e==t;else var r=e&&(t.test?t.test(e):t(e));return r?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Yn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Yn(this.string,null,this.tabSize)},match:function(t,e,r){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var i=function(t){return r?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=Sr,t.TextMarker=Mr,$n(Mr),Mr.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&ie(t),Kn(this,"clear")){var r=this.find();r&&jn(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],a=Hr(l.markedSpans,this);null!=a.to&&(i=yn(l)),l.markedSpans=Dr(l.markedSpans,a),null!=a.from?n=yn(l):this.collapsed&&!Gr(this.doc,l)&&t&&vn(l,re(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var s=Rr(t.doc,this.lines[o]),c=u(t.doc,s);c>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=n&&t&&ce(t,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ir(t)),e&&oe(t)}},Mr.prototype.find=function(){for(var t,e,r=0;r<this.lines.length;++r){var n=this.lines[r],i=Hr(n.markedSpans,this);if(null!=i.from||null!=i.to){var o=yn(n);null!=i.from&&(t=$e(o,i.from)),null!=i.to&&(e=$e(o,i.to))}}return"bookmark"==this.type?t:t&&{from:t,to:e}},Mr.prototype.changed=function(){var t=this.find(),e=this.doc.cm;if(t&&e){"bookmark"!=this.type&&(t=t.from);var r=pn(this.doc,t.line);if(R(e,r),t.line>=e.display.showingFrom&&t.line<e.display.showingTo){for(var n=e.display.lineDiv.firstChild;n;n=n.nextSibling)if(n.lineObj==r){n.offsetHeight!=r.height&&vn(r,n.offsetHeight);break}se(e,function(){e.curOp.selectionChanged=e.curOp.forceUpdate=e.curOp.updateMaxLine=!0})}}},Mr.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Jn(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Mr.prototype.detachLine=function(t){if(this.lines.splice(Jn(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},t.SharedTextMarker=Ar,$n(Ar),Ar.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();jn(this,"clear")}},Ar.prototype.find=function(){return this.primary.find()};var go=t.LineWidget=function(t,e,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.cm=t,this.node=e};$n(go),go.prototype.clear=Kr(function(){var t=this.line.widgets,e=yn(this.line);if(null!=e&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(this.line.widgets=null);var n=bn(this.cm,this.line)<this.cm.doc.scrollTop;
vn(this.line,Math.max(0,this.line.height-$r(this))),n&&fr(this.cm,0,-this.height),ce(this.cm,e,e+1)}}),go.prototype.changed=Kr(function(){var t=this.height;this.height=null;var e=$r(this)-t;if(e){vn(this.line,this.line.height+e);var r=yn(this.line);ce(this.cm,r,r+1)}});var vo=t.Line=function(t,e,r){this.text=t,Ur(this,e),this.height=r?r(this):1};$n(vo);var yo={},xo=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;un.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,n=t+e;n>r;++r){var i=this.lines[r];this.height-=i.height,qr(i),jn(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0,i=e.length;i>n;++n)e[n].parent=this},iterN:function(t,e,r){for(var n=t+e;n>t;++t)if(r(this.lines[t]))return!0}},fn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>t){var o=Math.min(e,i-t),l=n.height;if(n.removeInner(t,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25){var a=[];this.collapse(a),this.children=[new un(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0,r=this.children.length;r>e;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],l=o.chunkSize();if(l>=t){if(o.insertInner(t,e,r),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),s=new un(a);o.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}t-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),r=new fn(e);if(t.parent){t.size-=r.size,t.height-=r.height;var n=Jn(t.parent.children,t);t.parent.children.splice(n+1,0,r)}else{var i=new fn(t.children);i.parent=t,t.children=[i,r],t=i}r.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],l=o.chunkSize();if(l>t){var a=Math.min(e,l-t);if(o.iterN(t,a,r))return!0;if(0==(e-=a))break;t=0}else t-=l}}};var bo=0,Co=t.Doc=function(t,e,r){if(!(this instanceof Co))return new Co(t,e,r);null==r&&(r=0),fn.call(this,[new un([new vo("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=wn(),this.cleanGeneration=1,this.frontier=r;var n=$e(r,0);this.sel={from:n,to:n,head:n,anchor:n,shift:!1,extend:!1,goalColumn:null},this.id=++bo,this.modeOption=e,"string"==typeof t&&(t=Eo(t)),cn(this,{from:n,to:n,text:t},null,{head:n,anchor:n})};Co.prototype=ti(fn.prototype,{constructor:Co,iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,n=0,i=e.length;i>n;++n)r+=e[n].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=gn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:function(t){var e=$e(this.first,0),r=this.first+this.size-1;Ve(this,{from:e,to:$e(r,pn(this,r).text.length),text:Eo(t),origin:"setValue"},{head:e,anchor:e},!0)},replaceRange:function(t,e,r,n){e=Qe(this,e),r=r?Qe(this,r):e,Ke(this,t,e,r,n)},getRange:function(t,e,r){var n=mn(this,Qe(this,t),Qe(this,e));return r===!1?n:n.join(r||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},setLine:function(t,e){tr(this,t)&&Ke(this,e,$e(t,0),Qe(this,$e(t)))},removeLine:function(t){t?Ke(this,"",Qe(this,$e(t-1)),Qe(this,$e(t))):Ke(this,"",$e(0,0),Qe(this,$e(1,0)))},getLineHandle:function(t){return tr(this,t)?pn(this,t):void 0},getLineNumber:function(t){return yn(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=pn(this,t)),Rr(this,t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Qe(this,t)},getCursor:function(t){var e,r=this.sel;return e=null==t||"head"==t?r.head:"anchor"==t?r.anchor:"end"==t||t===!1?r.to:r.from,qe(e)},somethingSelected:function(){return!Xe(this.sel.head,this.sel.anchor)},setCursor:ae(function(t,e,r){var n=Qe(this,"number"==typeof t?$e(t,e||0):t);r?er(this,n):nr(this,n,n)}),setSelection:ae(function(t,e,r){nr(this,Qe(this,t),Qe(this,e||t),r)}),extendSelection:ae(function(t,e,r){er(this,Qe(this,t),e&&Qe(this,e),r)}),getSelection:function(t){return this.getRange(this.sel.from,this.sel.to,t)},replaceSelection:function(t,e,r){Ve(this,{from:this.sel.from,to:this.sel.to,text:Eo(t),origin:r},e||"around")},undo:ae(function(){Ge(this,"undo")}),redo:ae(function(){Ge(this,"redo")}),setExtending:function(t){this.sel.extend=t},historySize:function(){var t=this.history;return{undo:t.done.length,redo:t.undone.length}},clearHistory:function(){this.history=wn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){return this.history.lastOp=this.history.lastOrigin=null,this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:An(this.history.done),undone:An(this.history.undone)}},setHistory:function(t){var e=this.history=wn(this.history.maxGeneration);e.done=t.done.slice(0),e.undone=t.undone.slice(0)},markText:function(t,e,r){return Tr(this,Qe(this,t),Qe(this,e),r,"range")},setBookmark:function(t,e){var r={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft};return t=Qe(this,t),Tr(this,t,t,r,"bookmark")},findMarksAt:function(t){t=Qe(this,t);var e=[],r=pn(this,t.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},getAllMarks:function(){var t=[];return this.iter(function(e){var r=e.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&t.push(r[n].marker)}),t},posFromIndex:function(t){var e,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>t?(e=t,!0):(t-=i,void++r)}),Qe(this,$e(r,e))},indexFromPos:function(t){t=Qe(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new Co(gn(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<r&&(r=t.to);var n=new Co(gn(this,e,r),t.mode||this.modeOption,e);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==e){this.linked.splice(r,1),e.unlinkDoc(this);break}}if(e.history==this.history){var i=[e.id];hn(e,function(t){i.push(t.id)},!0),e.history=wn(),e.history.done=An(this.history.done,i),e.history.undone=An(this.history.undone,i)}},iterLinkedDocs:function(t){hn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Co.prototype.eachLine=Co.prototype.iter;var wo="iter insert remove copy getEditor".split(" ");for(var ko in Co.prototype)Co.prototype.hasOwnProperty(ko)&&Jn(wo,ko)<0&&(t.prototype[ko]=function(t){return function(){return t.apply(this.doc,arguments)}}(Co.prototype[ko]));$n(Co),t.e_stop=Pn,t.e_preventDefault=En,t.e_stopPropagation=zn;var Lo,So=0;t.on=Vn,t.off=Rn,t.signal=Gn;var Mo=30,To=t.Pass={toString:function(){return"CodeMirror.Pass"}};Xn.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}},t.countColumn=Yn;var Ao=[""],No=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ho=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;t.replaceGetRect=function(t){ui=t};var Do=function(){if(Ni)return!1;var t=li("div");return"draggable"in t||"dragDrop"in t}();Mi?fi=function(t,e){return 36==t.charCodeAt(e-1)&&39==t.charCodeAt(e)}:Ei&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?fi=function(t,e){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(t.slice(e-1,e+1))}:Hi&&/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)?fi=function(t,e){var r=t.charCodeAt(e-1);return r>=8208&&8212>=r}:Hi&&(fi=function(t,e){if(e>1&&45==t.charCodeAt(e-1)){if(/\w/.test(t.charAt(e-2))&&/[^\-?\.]/.test(t.charAt(e)))return!0;if(e>2&&/[\d\.,]/.test(t.charAt(e-2))&&/[\d\.,]/.test(t.charAt(e)))return!1}return/[~!#%&*)=+}\]\\|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|\u2026[\w~`@#$%\^&*(_=+{[><]/.test(t.slice(e-1,e+1))});var Wo,Oo,Eo=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,r=[],n=t.length;n>=e;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),e+=l+1):(r.push(o),e=i+1)}return r}:function(t){return t.split(/\r\n?|\n/)};t.splitLines=Eo;var zo=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(r){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},Io=function(){var t=li("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Po={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};t.keyNames=Po,function(){for(var t=0;10>t;t++)Po[t+48]=String(t);for(var t=65;90>=t;t++)Po[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)Po[t+111]=Po[t+63235]="F"+t}();var Fo,Bo=function(){function t(t){return 255>=t?e.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1791>=t?r.charAt(t-1536):t>=1792&&2220>=t?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,l=/[Lb1n]/,a=/[1n]/,s="L";return function(e){if(!n.test(e))return!1;for(var r,c=e.length,u=[],f=0;c>f;++f)u.push(r=t(e.charCodeAt(f)));for(var f=0,h=s;c>f;++f){var r=u[f];"m"==r?u[f]=h:h=r}for(var f=0,d=s;c>f;++f){var r=u[f];"1"==r&&"r"==d?u[f]="n":o.test(r)&&(d=r,"r"==r&&(u[f]="R"))}for(var f=1,h=u[0];c-1>f;++f){var r=u[f];"+"==r&&"1"==h&&"1"==u[f+1]?u[f]="1":","!=r||h!=u[f+1]||"1"!=h&&"n"!=h||(u[f]=h),h=r}for(var f=0;c>f;++f){var r=u[f];if(","==r)u[f]="N";else if("%"==r){for(var p=f+1;c>p&&"%"==u[p];++p);for(var m=f&&"!"==u[f-1]||c-1>p&&"1"==u[p]?"1":"N",g=f;p>g;++g)u[g]=m;f=p-1}}for(var f=0,d=s;c>f;++f){var r=u[f];"L"==d&&"1"==r?u[f]="L":o.test(r)&&(d=r)}for(var f=0;c>f;++f)if(i.test(u[f])){for(var p=f+1;c>p&&i.test(u[p]);++p);for(var v="L"==(f?u[f-1]:s),y="L"==(c-1>p?u[p]:s),m=v||y?"L":"R",g=f;p>g;++g)u[g]=m;f=p-1}for(var x,b=[],f=0;c>f;)if(l.test(u[f])){var C=f;for(++f;c>f&&l.test(u[f]);++f);b.push({from:C,to:f,level:0})}else{var w=f,k=b.length;for(++f;c>f&&"L"!=u[f];++f);for(var g=w;f>g;)if(a.test(u[g])){g>w&&b.splice(k,0,{from:w,to:g,level:1});var L=g;for(++g;f>g&&a.test(u[g]);++g);b.splice(k,0,{from:L,to:g,level:2}),w=g}else++g;f>w&&b.splice(k,0,{from:w,to:f,level:1})}return 1==b[0].level&&(x=e.match(/^\s+/))&&(b[0].from=x[0].length,b.unshift({from:0,to:x[0].length,level:0})),1==Zn(b).level&&(x=e.match(/\s+$/))&&(Zn(b).to-=x[0].length,b.push({from:c-x[0].length,to:c,level:0})),b[0].level!=Zn(b).level&&b.push({from:c,to:c,level:b[0].level}),b}}();return t.version="3.18.1",t}(),CodeMirror.defineMode("htmlmixed",function(t,e){function r(t,e){var r=e.htmlState.tagName,n=l.token(t,e.htmlState);if("script"==r&&/\btag\b/.test(n)&&">"==t.current()){var c=t.string.slice(Math.max(0,t.pos-100),t.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);c=c?c[1]:"",c&&/[\"\']/.test(c.charAt(0))&&(c=c.slice(1,c.length-1));for(var u=0;u<s.length;++u){var f=s[u];if("string"==typeof f.matches?c==f.matches:f.matches.test(c)){f.mode&&(e.token=i,e.localMode=f.mode,e.localState=f.mode.startState&&f.mode.startState(l.indent(e.htmlState,"")));break}}}else"style"==r&&/\btag\b/.test(n)&&">"==t.current()&&(e.token=o,e.localMode=a,e.localState=a.startState(l.indent(e.htmlState,"")));return n}function n(t,e,r){var n,i=t.current(),o=i.search(e);return o>-1?t.backUp(i.length-o):(n=i.match(/<\/?$/))&&(t.backUp(i.length),t.match(e,!1)||t.match(i[0])),r}function i(t,e){return t.match(/^<\/\s*script\s*>/i,!1)?(e.token=r,e.localState=e.localMode=null,r(t,e)):n(t,/<\/\s*script\s*>/,e.localMode.token(t,e.localState))}function o(t,e){return t.match(/^<\/\s*style\s*>/i,!1)?(e.token=r,e.localState=e.localMode=null,r(t,e)):n(t,/<\/\s*style\s*>/,a.token(t,e.localState))}var l=CodeMirror.getMode(t,{name:"xml",htmlMode:!0}),a=CodeMirror.getMode(t,"css"),s=[],c=e&&e.scriptTypes;if(s.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:CodeMirror.getMode(t,"javascript")}),c)for(var u=0;u<c.length;++u){var f=c[u];s.push({matches:f.matches,mode:f.mode&&CodeMirror.getMode(t,f.mode)})}return s.push({matches:/./,mode:CodeMirror.getMode(t,"text/plain")}),{startState:function(){var t=l.startState();return{token:r,localMode:null,localState:null,htmlState:t}},copyState:function(t){if(t.localState)var e=CodeMirror.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:e,htmlState:CodeMirror.copyState(l,t.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(t,e){return!t.localMode||/^\s*<\//.test(e)?l.indent(t.htmlState,e):t.localMode.indent?t.localMode.indent(t.localState,e):CodeMirror.Pass},electricChars:"/{}:",innerMode:function(t){return{state:t.localState||t.htmlState,mode:t.localMode||l}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(t,e){function r(t,e,r){return e.tokenize=r,r(t,e)}function n(t,e){for(var r,n=!1;null!=(r=t.next());){if(r==e&&!n)return!1;n=!n&&"\\"==r}return n}function i(t,e,r){return _=t,U=r,e}function o(t,e){var o=t.next();if('"'==o||"'"==o)return r(t,e,l(o));if("."==o&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==o)return t.eat("*")?r(t,e,a):t.eat("/")?(t.skipToEnd(),i("comment","comment")):"operator"==e.lastType||"keyword c"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)?(n(t,"/"),t.eatWhile(/[gimy]/),i("regexp","string-2")):(t.eatWhile(Z),i("operator",null,t.current()));if("#"==o)return t.skipToEnd(),i("error","error");if(Z.test(o))return t.eatWhile(Z),i("operator",null,t.current());t.eatWhile(/[\w\$_]/);var s=t.current(),c=q.propertyIsEnumerable(s)&&q[s];return c&&"."!=e.lastType?i(c.type,c.style,s):i("variable","variable",s)}function l(t){return function(e,r){return n(e,t)||(r.tokenize=o),i("string","string")}}function a(t,e){for(var r,n=!1;r=t.next();){if("/"==r&&n){e.tokenize=o;break}n="*"==r}return i("comment","comment")}function s(t,e,r,n,i,o){this.indented=t,this.column=e,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function c(t,e){for(var r=t.localVars;r;r=r.next)if(r.name==e)return!0}function u(t,e,r,n,i){var o=t.cc;for(J.state=t,J.stream=i,J.marked=null,J.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var l=o.length?o.pop():X?b:x;if(l(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return J.marked?J.marked:"variable"==r&&c(t,n)?"variable-2":e}}}function f(){for(var t=arguments.length-1;t>=0;t--)J.cc.push(arguments[t])}function h(){return f.apply(null,arguments),!0}function d(t){function e(e){for(var r=e;r;r=r.next)if(r.name==t)return!0;return!1}var r=J.state;if(r.context){if(J.marked="def",e(r.localVars))return;r.localVars={name:t,next:r.localVars}}else{if(e(r.globalVars))return;r.globalVars={name:t,next:r.globalVars}}}function p(){J.state.context={prev:J.state.context,vars:J.state.localVars},J.state.localVars=te}function m(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}function g(t,e){var r=function(){var r=J.state,n=r.indented;"stat"==r.lexical.type&&(n=r.lexical.indented),r.lexical=new s(n,J.stream.column(),t,null,r.lexical,e)};return r.lex=!0,r}function v(){var t=J.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function y(t){return function(e){return e==t?h():";"==t?f():h(arguments.callee)}}function x(t){return"var"==t?h(g("vardef"),z,y(";"),v):"keyword a"==t?h(g("form"),b,x,v):"keyword b"==t?h(g("form"),x,v):"{"==t?h(g("}"),W,v):";"==t?h():"if"==t?h(g("form"),b,x,v,P):"function"==t?h(G):"for"==t?h(g("form"),y("("),g(")"),F,y(")"),v,x,v):"variable"==t?h(g("stat"),T):"switch"==t?h(g("form"),b,g("}","switch"),y("{"),W,v,v):"case"==t?h(b,y(":")):"default"==t?h(y(":")):"catch"==t?h(g("form"),p,y("("),j,y(")"),x,v,m):f(g("stat"),b,y(";"),v)}function b(t){return w(t,!1)}function C(t){return w(t,!0)}function w(t,e){var r=e?M:S;return Q.hasOwnProperty(t)?h(r):"function"==t?h(G):"keyword c"==t?h(e?L:k):"("==t?h(g(")"),k,y(")"),v,r):"operator"==t?h(e?C:b):"["==t?h(g("]"),D(C,"]"),v,r):"{"==t?h(g("}"),D(N,"}"),v,r):h()}function k(t){return t.match(/[;\}\)\],]/)?f():f(b)}function L(t){return t.match(/[;\}\)\],]/)?f():f(C)}function S(t,e){return","==t?h(b):M(t,e,!1)}function M(t,e,r){var n=0==r?S:M,i=0==r?b:C;return"operator"==t?/\+\+|--/.test(e)?h(n):"?"==e?h(b,y(":"),i):h(i):";"!=t?"("==t?h(g(")","call"),D(C,")"),v,n):"."==t?h(A,n):"["==t?h(g("]"),k,y("]"),v,n):void 0:void 0}function T(t){return":"==t?h(v,x):f(S,y(";"),v)}function A(t){return"variable"==t?(J.marked="property",h()):void 0}function N(t,e){if("variable"==t){if(J.marked="property","get"==e||"set"==e)return h(H)}else("number"==t||"string"==t)&&(J.marked=t+" property");return Q.hasOwnProperty(t)?h(y(":"),C):void 0}function H(t){return":"==t?h(b):"variable"!=t?h(y(":"),b):(J.marked="property",h(G))}function D(t,e){function r(n){if(","==n){var i=J.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),h(t,r)}return n==e?h():h(y(e))}return function(n){return n==e?h():f(t,r)}}function W(t){return"}"==t?h():f(x,W)}function O(t){return":"==t?h(E):f()}function E(t){return"variable"==t?(J.marked="variable-3",h()):f()}function z(t,e){return"variable"==t?(d(e),Y?h(O,I):h(I)):f()}function I(t,e){return"="==e?h(C,I):","==t?h(z):void 0}function P(t,e){return"keyword b"==t&&"else"==e?h(g("form"),x,v):void 0}function F(t){return"var"==t?h(z,y(";"),V):";"==t?h(V):"variable"==t?h(B):f(b,y(";"),V)}function B(t,e){return"in"==e?h(b):h(S,V)}function V(t,e){return";"==t?h(R):"in"==e?h(b):f(b,y(";"),R)}function R(t){")"!=t&&h(b)}function G(t,e){return"variable"==t?(d(e),h(G)):"("==t?h(g(")"),p,D(j,")"),v,x,m):void 0}function j(t,e){return"variable"==t?(d(e),Y?h(O):h()):void 0}var _,U,K=t.indentUnit,$=e.statementIndent,X=e.json,Y=e.typescript,q=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),r=t("keyword b"),n=t("keyword c"),i=t("operator"),o={type:"atom",style:"atom"},l={"if":t("if"),"while":e,"with":e,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this")};if(Y){var a={type:"variable",style:"variable-3"},s={"interface":t("interface"),"class":t("class"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),"super":t("super"),string:a,number:a,bool:a,any:a};for(var c in s)l[c]=s[c]}return l}(),Z=/[+\-*&%=<>!?|~^]/,Q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},J={state:null,column:null,marked:null,cc:null},te={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(t){return{tokenize:o,lastType:null,cc:[],lexical:new s((t||0)-K,0,"block",!1),localVars:e.localVars,globalVars:e.globalVars,context:e.localVars&&{vars:e.localVars},indented:0}},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),e.tokenize!=a&&t.eatSpace())return null;var r=e.tokenize(t,e);return"comment"==_?r:(e.lastType="operator"!=_||"++"!=U&&"--"!=U?_:"incdec",u(e,r,_,U,t))},indent:function(t,r){if(t.tokenize==a)return CodeMirror.Pass;if(t.tokenize!=o)return 0;for(var n=r&&r.charAt(0),i=t.lexical,l=t.cc.length-1;l>=0;--l){var s=t.cc[l];if(s==v)i=i.prev;else if(s!=P||/^else\b/.test(r))break}"stat"==i.type&&"}"==n&&(i=i.prev),$&&")"==i.type&&"stat"==i.prev.type&&(i=i.prev);var c=i.type,u=n==c;return"vardef"==c?i.indented+("operator"==t.lastType||","==t.lastType?4:0):"form"==c&&"{"==n?i.indented:"form"==c?i.indented+K:"stat"==c?i.indented+("operator"==t.lastType||","==t.lastType?$||K:0):"switch"!=i.info||u||0==e.doubleIndentSwitch?i.align?i.column+(u?0:1):i.indented+(u?0:K):i.indented+(/^(?:case|default)\b/.test(r)?K:2*K)},electricChars:":{}",blockCommentStart:X?null:"/*",blockCommentEnd:X?null:"*/",lineComment:X?null:"//",fold:"brace",helperType:X?"json":"javascript",jsonMode:X}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMode("markdown",function(t,e){function r(t,e,r){return e.f=e.inline=r,r(t,e)}function n(t,e,r){return e.f=e.block=r,r(t,e)}function i(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.quote=0,g||t.f!=l||(t.f=u,t.block=o),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.thisLineHasContent=!1,null}function o(t,i){var o=i.list!==!1;if(i.list!==!1&&i.indentationDiff>=0?(i.indentationDiff<4&&(i.indentation-=i.indentationDiff),i.list=null):i.list!==!1&&i.indentation>0?(i.list=null,i.listDepth=Math.floor(i.indentation/4)):i.list!==!1&&(i.list=!1,i.listDepth=0),i.indentationDiff>=4)return i.indentation-=4,t.skipToEnd(),w;if(t.eatSpace())return null;if("#"===t.peek()||i.prevLineHasContent&&t.match(V))i.header=!0;else if(t.eat(">"))for(i.indentation++,i.quote=1,t.eatSpace();t.eat(">");)t.eatSpace(),i.quote++;else{if("["===t.peek())return r(t,i,h);if(t.match(I,!0))return A;if(i.prevLineHasContent&&!o||!t.match(P,!0)&&!t.match(F,!0)){if(e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0))return i.localMode=x(RegExp.$1),i.localMode&&(i.localState=i.localMode.startState()),n(t,i,a),w}else i.indentation+=4,i.list=!0,i.listDepth++,e.taskLists&&t.match(B,!1)&&(i.taskList=!0)}return r(t,i,i.inline)}function l(t,e){var r=v.token(t,e.htmlState);return g&&"tag"===r&&"openTag"!==e.htmlState.type&&!e.htmlState.context&&(e.f=u,e.block=o),e.md_inside&&-1!=t.current().indexOf(">")&&(e.f=u,e.block=o,e.htmlState.context=void 0),r}function a(t,e){return t.sol()&&t.match(/^```/,!0)?(e.localMode=e.localState=null,e.f=u,e.block=o,w):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),w)}function s(t){var e=[];if(t.taskOpen)return"meta";if(t.taskClosed)return"property";if(t.strong&&e.push(z),t.em&&e.push(E),t.linkText&&e.push(W),t.code&&e.push(w),t.header&&e.push(C),t.quote&&e.push(t.quote%2?k:L),t.list!==!1){var r=(t.listDepth-1)%3;e.push(r?1===r?M:T:S)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function c(t,e){return t.match(R,!0)?s(e):void 0}function u(t,i){var o=i.text(t,i);if("undefined"!=typeof o)return o;if(i.list)return i.list=null,s(i);if(i.taskList){var a="x"!==t.match(B,!0)[1];return a?i.taskOpen=!0:i.taskClosed=!0,i.taskList=!1,s(i)}i.taskOpen=!1,i.taskClosed=!1;var c=t.next();if("\\"===c)return t.next(),s(i);if(i.linkTitle){i.linkTitle=!1;var u=c;"("===c&&(u=")"),u=(u+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var h="^\\s*(?:[^"+u+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(t.match(new RegExp(h),!0))return O}if("`"===c){var d=s(i),p=t.pos;t.eatWhile("`");var g=1+t.pos-p;return i.code?g===b?(i.code=!1,d):s(i):(b=g,i.code=!0,s(i))}if(i.code)return s(i);if("!"===c&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),i.inline=i.f=f,N;if("["===c&&t.match(/.*\](\(| ?\[)/,!1))return i.linkText=!0,s(i);if("]"===c&&i.linkText){var v=s(i);return i.linkText=!1,i.inline=i.f=f,v}if("<"===c&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return r(t,i,m(H,">"));if("<"===c&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return r(t,i,m(D,">"));if("<"===c&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var y=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(y)&&(i.md_inside=!0)}return t.backUp(1),n(t,i,l)}if("<"===c&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var x=!1;if(!e.underscoresBreakWords&&"_"===c&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var C=t.pos-2;if(C>=0){var w=t.string.charAt(C);"_"!==w&&w.match(/(\w)/,!1)&&(x=!0)}}var d=s(i);if("*"===c||"_"===c&&!x){if(i.strong===c&&t.eat(c))return i.strong=!1,d;if(!i.strong&&t.eat(c))return i.strong=c,s(i);if(i.em===c)return i.em=!1,d;if(!i.em)return i.em=c,s(i)}else if(" "===c&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return s(i);t.backUp(1)}return" "===c&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),s(i)}function f(t,e){if(t.eatSpace())return null;var n=t.next();return"("===n||"["===n?r(t,e,m(O,"("===n?")":"]")):"error"}function h(t,e){return t.match(/^[^\]]*\]:/,!0)?(e.f=d,W):r(t,e,u)}function d(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=u,O)}function p(t){return G[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),G[t]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),G[t]}function m(t,e,r){return r=r||u,function(n,i){return n.match(p(e)),i.inline=i.f=r,t}}var g=CodeMirror.modes.hasOwnProperty("xml"),v=CodeMirror.getMode(t,g?{name:"xml",htmlMode:!0}:"text/plain"),y={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},x=function(){var e,r,n={},i={},o=[];for(var l in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(l)&&o.push(l);for(e=0;e<o.length;e++)n[o[e]]=o[e];var a=[];for(var l in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(l)&&a.push({mime:l,mode:CodeMirror.mimeModes[l]});for(e=0;e<a.length;e++)r=a[e].mime,i[r]=a[e].mime;for(var s in y)(y[s]in n||y[s]in i)&&(n[s]=y[s]);return function(e){return n[e]?CodeMirror.getMode(t,n[e]):null}}();void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1),void 0===e.taskLists&&(e.taskLists=!1);var b=0,C="header",w="comment",k="atom",L="number",S="variable-2",M="variable-3",T="keyword",A="hr",N="tag",H="link",D="link",W="link",O="string",E="em",z="strong",I=/^([*\-=_])(?:\s*\1){2,}\s*$/,P=/^[*\-+]\s+/,F=/^[0-9]+\.\s+/,B=/^\[(x| )\](?=\s)/,V=/^(?:\={1,}|-{1,})$/,R=/^[^!\[\]*_\\<>` "'(]+/,G=[];return{startState:function(){return{f:o,prevLineHasContent:!1,thisLineHasContent:!1,block:o,htmlState:CodeMirror.startState(v),indentation:0,inline:u,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:CodeMirror.copyState(v,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?CodeMirror.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,linkTitle:t.linkTitle,em:t.em,strong:t.strong,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(t,e){if(t.sol()){if(t.match(/^\s*$/,!0))return e.prevLineHasContent=!1,i(e);e.prevLineHasContent=e.thisLineHasContent,e.thisLineHasContent=!0,e.header=!1,e.taskList=!1,e.code=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var r=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,n=4*Math.floor((r-e.indentation)/4);n>4&&(n=4);var o=e.indentation+n;if(e.indentationDiff=o-e.indentation,e.indentation=o,r>0)return null}return e.f(t,e)},blankLine:i,getType:s}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.defineMode("xml",function(t,e){function r(t,e){function r(r){return e.tokenize=r,r(t,e)}var i=t.next();if("<"==i){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?r(o("atom","]]>")):null:t.match("--")?r(o("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),r(l(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=o("meta","?>"),"meta";var a=t.eat("/");x="";for(var s;s=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)x+=s;return x?(b=a?"closeTag":"openTag",e.tokenize=n,"tag"):"tag error"}if("&"==i){var c;return c=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),c?"atom":"error"}return t.eatWhile(/[^&<]/),null}function n(t,e){var n=t.next();if(">"==n||"/"==n&&t.eat(">"))return e.tokenize=r,b=">"==n?"endTag":"selfcloseTag","tag";if("="==n)return b="equals",null;if("<"==n){e.tokenize=r;var o=e.tokenize(t,e);return o?o+" error":"error"}return/[\'\"]/.test(n)?(e.tokenize=i(n),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function i(t){var e=function(e,r){for(;!e.eol();)if(e.next()==t){r.tokenize=n;break}return"string"};return e.isInAttribute=!0,e}function o(t,e){return function(n,i){for(;!n.eol();){if(n.match(e)){i.tokenize=r;break}n.next()}return t}}function l(t){return function(e,n){for(var i;null!=(i=e.next());){if("<"==i)return n.tokenize=l(t+1),n.tokenize(e,n);if(">"==i){if(1==t){n.tokenize=r;break}return n.tokenize=l(t-1),n.tokenize(e,n)}}return"meta"}}function a(){for(var t=arguments.length-1;t>=0;t--)C.cc.push(arguments[t])
}function s(){return a.apply(null,arguments),!0}function c(t,e){var r=T.doNotIndent.hasOwnProperty(t)||C.context&&C.context.noIndent;C.context={prev:C.context,tagName:t,indent:C.indented,startOfLine:e,noIndent:r}}function u(){C.context&&(C.context=C.context.prev)}function f(t){if("openTag"==t)return C.tagName=x,C.tagStart=w.column(),s(m,h(C.startOfLine));if("closeTag"==t){var e=!1;return C.context?C.context.tagName!=x&&(T.implicitlyClosed.hasOwnProperty(C.context.tagName.toLowerCase())&&u(),e=!C.context||C.context.tagName!=x):e=!0,e&&(k="error"),s(d(e))}return s()}function h(t){return function(e){var r=C.tagName;return C.tagName=C.tagStart=null,"selfcloseTag"==e||"endTag"==e&&T.autoSelfClosers.hasOwnProperty(r.toLowerCase())?(p(r.toLowerCase()),s()):"endTag"==e?(p(r.toLowerCase()),c(r,t),s()):s()}}function d(t){return function(e){return t&&(k="error"),"endTag"==e?(u(),s()):(k="error",s(arguments.callee))}}function p(t){for(var e;;){if(!C.context)return;if(e=C.context.tagName.toLowerCase(),!T.contextGrabbers.hasOwnProperty(e)||!T.contextGrabbers[e].hasOwnProperty(t))return;u()}}function m(t){return"word"==t?(k="attribute",s(g,m)):"endTag"==t||"selfcloseTag"==t?a():(k="error",s(m))}function g(t){if("equals"==t)return s(v,m);if(T.allowMissing){if("word"==t)return k="attribute",s(g,m)}else k="error";return"endTag"==t||"selfcloseTag"==t?a():s()}function v(t){return"string"==t?s(y):"word"==t&&T.allowUnquoted?(k="string",s()):(k="error","endTag"==t||"selfCloseTag"==t?a():s())}function y(t){return"string"==t?s(y):a()}var x,b,C,w,k,L=t.indentUnit,S=e.multilineTagIndentFactor||1,M=e.multilineTagIndentPastTag||!0,T=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},A=e.alignCDATA;return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;k=b=x=null;var r=e.tokenize(t,e);if(e.type=b,(r||b)&&"comment"!=r)for(C=e,w=t;;){var n=e.cc.pop()||f;if(n(b||r))break}return e.startOfLine=!1,k&&(r="error"==k?r+" error":k),r},indent:function(t,e,i){var o=t.context;if(t.tokenize.isInAttribute)return t.stringStartCol+1;if(t.tokenize!=n&&t.tokenize!=r||o&&o.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return M?t.tagStart+t.tagName.length+2:t.tagStart+L*S;if(A&&/<!\[CDATA\[/.test(e))return 0;for(o&&/^<\//.test(e)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+L:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:e.htmlMode?"html":"xml",helperType:e.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});