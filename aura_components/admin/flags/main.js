this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["admin/flags/main"]=function(t,a,n,e,l){function i(t,a){var e,l="";return l+='\n  <div class="well">\n    <h2>Flagged content for <strong>'+c((e=t&&t.app,e=null==e||e===!1?e:e.name,typeof e===u?e.apply(t):e))+'</strong></h2>\n    <table class="table">\n      <thead>\n        <tr>\n          <td>Type</td>\n          <td>Creator</td>\n          <td>Actions</td>\n        </tr>\n      </thead>\n      <tbody>\n        ',e=n.each.call(t,t&&t.flags,{hash:{},inverse:f.noop,fn:f.program(2,s,a),data:a}),(e||0===e)&&(l+=e),l+="\n      </tbody>\n    </table>\n  </div>\n"}function s(t,a){var e,l,i="";return i+="\n          <tr>\n            <td><h6>",(l=n.type)?e=l.call(t,{hash:{},data:a}):(l=t&&t.type,e=typeof l===u?l.call(t,{hash:{},data:a}):l),i+=c(e)+"</h6></td>\n            <td>\n              <h6>"+c((e=t&&t.user,e=null==e||e===!1?e:e.name,typeof e===u?e.apply(t):e))+" ("+c((e=t&&t.user,e=null==e||e===!1?e:e.email,typeof e===u?e.apply(t):e))+")</h6>\n              <blockquote>\n                ",(l=n.description)?e=l.call(t,{hash:{},data:a}):(l=t&&t.description,e=typeof l===u?l.call(t,{hash:{},data:a}):l),i+=c(e)+'\n              </blockquote>\n            </td>\n            <td>\n              <a class="btn btn-mini" data-hull-id="',(l=n.id)?e=l.call(t,{hash:{},data:a}):(l=t&&t.id,e=typeof l===u?l.call(t,{hash:{},data:a}):l),i+=c(e)+'" data-hull-action="unflag">Unflag</a>\n              <a class="btn btn-mini btn-danger"  data-hull-id="',(l=n.id)?e=l.call(t,{hash:{},data:a}):(l=t&&t.id,e=typeof l===u?l.call(t,{hash:{},data:a}):l),i+=c(e)+'" data-hull-action="delete">Delete</a>\n            </td>\n          </tr>\n        '}function d(){return"\n  You need to be an administrator of the current app to view this component\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),l=l||{};var o,r,h,p="",u="function",c=this.escapeExpression,f=this,m=n.blockHelperMissing;return h={hash:{},inverse:f.noop,fn:f.program(1,i,l),data:l},(r=n.isAdmin)?o=r.call(a,h):(r=a&&a.isAdmin,o=typeof r===u?r.call(a,h):r),n.isAdmin||(o=m.call(a,o,{hash:{},inverse:f.noop,fn:f.program(1,i,l),data:l})),(o||0===o)&&(p+=o),p+="\n",h={hash:{},inverse:f.program(4,d,l),fn:f.noop,data:l},(r=n.isAdmin)?o=r.call(a,h):(r=a&&a.isAdmin,o=typeof r===u?r.call(a,h):r),n.isAdmin||(o=m.call(a,o,{hash:{},inverse:f.program(4,d,l),fn:f.noop,data:l})),(o||0===o)&&(p+=o),p+="\n"},Hull.component("admin/flags@hull",{type:"Hull",templates:["main"],refreshEvents:["model.hull.me.change"],datasources:{flags:":id/flagged"},options:{id:"app"},onFlagsError:function(){return[]},markReviewed:function(){"use strict";var t=this.sandbox.util._.filter,a=this.sandbox.data.deferred(),n=this.options.id+"/flags",e=this.api.model("me").get("id");return this.api(n).then(function(n){var l=t(n,function(t){return t.reporter_id===e});a.resolve(l.length>0)}),a},actions:{"delete":function(t,a){var n=this;this.api(a.data.id,"delete").then(function(){n.render()})},unflag:function(t,a){var n=this;this.api(a.data.id+"/flag?all=1","delete").then(function(){n.render()})}}});