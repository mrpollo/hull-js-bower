this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["likes/button/button"]=function(t,e,n,l,i){function a(t,e){var l,i,a="";return a+='\n  <button data-hull-action="unlike" ',l=n.unless.call(t,t&&t.loggedIn,{hash:{},inverse:h.noop,fn:h.program(2,s,e),data:e}),(l||0===l)&&(a+=l),a+=' class="btn btn-danger">\n    <i class="icon-heart"></i> ',(i=n.likesCount)?l=i.call(t,{hash:{},data:e}):(i=t&&t.likesCount,l=typeof i===c?i.call(t,{hash:{},data:e}):i),a+=d(l)+"\n  </button>\n"}function s(){return"disabled"}function o(t,e){var l,i,a="";return a+='\n  <button data-hull-action="like" class="btn" ',l=n.unless.call(t,t&&t.loggedIn,{hash:{},inverse:h.noop,fn:h.program(2,s,e),data:e}),(l||0===l)&&(a+=l),a+='>\n    <i class="icon-heart"></i> ',(i=n.likesCount)?l=i.call(t,{hash:{},data:e}):(i=t&&t.likesCount,l=typeof i===c?i.call(t,{hash:{},data:e}):i),a+=d(l)+"\n  </button>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),i=i||{};var r,u="",h=this,c="function",d=this.escapeExpression;return r=n["if"].call(e,e&&e.liked,{hash:{},inverse:h.program(4,o,i),fn:h.program(1,a,i),data:i}),(r||0===r)&&(u+=r),u+="\n"},Hull.component("likes/button@hull",{templates:["button"],refreshEvents:["model.hull.me.change"],requiredOptions:["id"],working:!1,datasources:{target:":id",liked:function(){return this.liked||this.api("me/liked/"+this.options.id)}},onTargetError:function(){return{stats:{}}},beforeRender:function(t){return this.target=t.target,t.likesCount=t.target.stats.likes||0,t},act:function(t){var e=this,n="like"==t?"post":"delete";this.api(this.options.id+"/likes",n).then(function(){e.liked="like"==t?!0:!1,e.render()})},actions:{like:function(t){t.preventDefault(),this.act("like")},unlike:function(t){t.preventDefault(),this.act("unlike")}}});