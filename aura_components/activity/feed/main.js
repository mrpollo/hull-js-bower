this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["activity/feed/feed"]=function(t,e,a,i,n){function s(t,e,i){var n,s,o,p="";return p+='\n    <li class="media hull-activity__',(s=a.verb)?n=s.call(t,{hash:{},data:e}):(s=t&&t.verb,n=typeof s===v?s.call(t,{hash:{},data:e}):s),p+=g(n)+'">\n      ',n=a["if"].call(t,(n=t&&t.actor,null==n||n===!1?n:n.picture),{hash:{},inverse:b.noop,fn:b.program(2,r,e),data:e}),(n||0===n)&&(p+=n),p+='\n\n      <div class="media-body">\n        <h5 class="media-heading">\n          '+g((s=a.to_s||t&&t.to_s,o={hash:{},data:e},s?s.call(t,t&&t.actor,o):y.call(t,"to_s",t&&t.actor,o)))+" "+g((s=a.activity||i&&i.activity,o={hash:{},data:e},s?s.call(t,i&&i.map,t,o):y.call(t,"activity",i&&i.map,t,o)))+" "+g((s=a.to_s||t&&t.to_s,o={hash:{},data:e},s?s.call(t,t&&t.target,o):y.call(t,"to_s",t&&t.target,o)))+"\n        </h5>\n        ",o={hash:{},inverse:b.noop,fn:b.program(4,l,e),data:e},(s=a.object)?n=s.call(t,o):(s=t&&t.object,n=typeof s===v?s.call(t,o):s),a.object||(n=q.call(t,n,{hash:{},inverse:b.noop,fn:b.program(4,l,e),data:e})),(n||0===n)&&(p+=n),p+='\n        <p class="muted">'+g((s=a.fromNow||t&&t.fromNow,o={hash:{},data:e},s?s.call(t,t&&t.published,o):y.call(t,"fromNow",t&&t.published,o)))+"</p>\n      </div>\n      </div>\n    </li>\n  "}function r(t){var e,a="";return a+='\n        <div class="pull-left">\n          <img class="media-object img-rounded" src="'+g((e=t&&t.actor,e=null==e||e===!1?e:e.picture,typeof e===v?e.apply(t):e))+'"/>\n        </div>\n      '}function l(t,e){var i,n,s,r="";return r+="\n          ",n=a.ifEqual||t&&t.ifEqual,s={hash:{},inverse:b.noop,fn:b.program(5,o,e),data:e},i=n?n.call(t,t&&t.type,"image",s):y.call(t,"ifEqual",t&&t.type,"image",s),(i||0===i)&&(r+=i),r+="\n          ",n=a.ifEqual||t&&t.ifEqual,s={hash:{},inverse:b.noop,fn:b.program(7,p,e),data:e},i=n?n.call(t,t&&t.type,"comment",s):y.call(t,"ifEqual",t&&t.type,"comment",s),(i||0===i)&&(r+=i),r+="\n          ",n=a.ifEqual||t&&t.ifEqual,s={hash:{},inverse:b.noop,fn:b.program(9,h,e),data:e},i=n?n.call(t,t&&t.type,"review",s):y.call(t,"ifEqual",t&&t.type,"review",s),(i||0===i)&&(r+=i),r+="\n        "}function o(t,e){var i,n,s="";return s+='\n            <img src="'+g((i=a.imageUrl||t&&t.imageUrl,n={hash:{},data:e},i?i.call(t,t&&t.id,"original",n):y.call(t,"imageUrl",t&&t.id,"original",n)))+'"/>\n          '}function p(t,e){var i,n,s="";return s+="\n            <p>",(n=a.description)?i=n.call(t,{hash:{},data:e}):(n=t&&t.description,i=typeof n===v?n.call(t,{hash:{},data:e}):n),s+=g(i)+"</p>\n          "}function h(t,e){var i,n,s="";return s+='\n            <p> <span class="label">',(n=a.rating)?i=n.call(t,{hash:{},data:e}):(n=t&&t.rating,i=typeof n===v?n.call(t,{hash:{},data:e}):n),s+=g(i)+"</span> ",(n=a.description)?i=n.call(t,{hash:{},data:e}):(n=t&&t.description,i=typeof n===v?n.call(t,{hash:{},data:e}):n),s+=g(i)+"</p>\n          "}function c(){return'\n    <li>\n      <div class="alert">No activity</div>\n    </li>\n  '}function u(){return'\n  <ul class="pager">\n    <li class="previous">\n      <a href="#" data-hull-action="previousPage">&larr; Previous</a>\n    </li>\n    <li class="next">\n      <a href="#" d data-hull-action="nextPage">Next &rarr;</a>\n    </li>\n  </ul>\n'}function d(){return'\n  <button data-hull-action="fetchMore" class="btn btn-block">Fetch more...</button>\n'}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),n=n||{};var m,f="",v="function",g=this.escapeExpression,y=a.helperMissing,b=this,q=a.blockHelperMissing;return f+='<ul class="hull-activity media-list">\n  ',m=a.each.call(e,e&&e.activities,{hash:{},inverse:b.noop,fn:b.programWithDepth(1,s,n,e),data:n}),(m||0===m)&&(f+=m),f+="\n  ",m=a.unless.call(e,e&&e.activities,{hash:{},inverse:b.noop,fn:b.program(11,c,n),data:n}),(m||0===m)&&(f+=m),f+="\n</ul>\n\n\n",m=a["if"].call(e,e&&e.isPaged,{hash:{},inverse:b.program(15,d,n),fn:b.program(13,u,n),data:n}),(m||0===m)&&(f+=m),f+="\n\n"},Hull.component("activity/feed@hull",{type:"Hull",templates:["feed"],options:{perPage:10,page:1},map:{fallback:{verb:{receive:"received",share:"shared",add:"added",post:"posted",like:"liked",unlike:"unliked",review:"reviewed",create:"created"},object:{entity:"an entity",image:"an image",status:"a status",photo:"a picture",question:"a question",item:"an object",badge:"a badge",link:"a link",video:"a video",note:"a note",comment:"a comment",review:"a review"},target:{facebook_app:"Facebook",twitter_app:"Twitter"}},create:{review:"reviewed",comment:"posted a comment on"}},datasources:{activities:function(){var t,e=this.id||"app";return t=this.options.friendsOnly?e+"/friends_activity":e+"/activity",this.api(t,this.query)}},actions:{nextPage:function(){return this.query.skip=void 0,this.query.limit=this.options.limit||this.options.perPage,this.query.page=this.query.page||1,this.query.page+=1,this.render(),!1},previousPage:function(){return this.query.skip=void 0,this.query.limit=this.options.limit||this.options.perPage,this.query.page=this.query.page||1,this.query.page>1&&(this.query.page-=1,this.render()),!1},fetchMore:function(t,e){e.el.text("Loading...");var a=this.options.limit||this.options.perPage;this.query.limit+=a,this.render()}},initialize:function(){var t={};this.options.startPage?t.page=this.options.startPage:t.skip=this.options.skip||0,t.limit=this.options.limit||this.options.perPage,t.where=this.options.where||{},this.options.verb&&(t.where.verb=this.options.verb),this.options.object_type&&(t.where.obj_type=this.options.object_type);var e=/^[0-9a-f]{24}/i;if(this.options.after){var a=this.options.after;e.test(a)?t.where._id={$gte:a}:moment(a).isValid()&&(t.where.created_at={$gte:moment(a).toDate()})}else if(this.options.before){var i=this.options.before;e.test(i)?t.where._id={$lte:i}:moment(i).isValid()&&(t.where.created_at={$lte:moment(i).toDate()})}this.query=t},beforeRender:function(t){return t.map=this.map,t.isPaged="paged"===this.options.navigation,t.query=this.query,console.log(t),t}});