this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["comments/box/box"]=function(t,e,n,i,s){function l(t){var e,n="";return n+='\n    <form>\n      <div class=\'media\'>\n        <div class="pull-left">\n          <img class="media-object img-rounded" src="'+c((e=t&&t.me,e=null==e||e===!1?e:e.picture,typeof e===d?e.apply(t):e))+'" alt="'+c((e=t&&t.me,e=null==e||e===!1?e:e.name,typeof e===d?e.apply(t):e))+'" width="50" height="50">\n        </div>\n        <div class="media-body">\n          <textarea name=\'description\' class="input-block-level" rows="3" placeholder="Leave a comment..."></textarea>\n          <div>\n            <button data-hull-action="comment" class="btn btn-small btn-primary">Post as '+c((e=t&&t.me,e=null==e||e===!1?e:e.name,typeof e===d?e.apply(t):e))+'</button>\n            <div class=\'pull-right\'>\n              <small>\n                <a href="#" data-hull-action="logout" class="link">Logout</a>\n              </small>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  '}function o(){return'\n    <div data-hull-component="login/button@hull"></div>\n  '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),s=s||{};var a,u="",d="function",c=this.escapeExpression,r=this;return u+='<div class="well">\n  ',a=n["if"].call(e,e&&e.loggedIn,{hash:{},inverse:r.program(3,o,s),fn:r.program(1,l,s),data:s}),(a||0===a)&&(u+=a),u+="\n</div>\n"},Hull.component("comments/box@hull",{type:"Hull",templates:["box"],refreshEvents:["model.hull.me.change"],events:{'keyup [name="description"]':"checkButtonStatus"},requiredOptions:["id"],actions:{comment:"postComment"},options:{focus:!1},afterRender:function(){(this.options.focus||this.focusAfterRender)&&(this.$el.find("input,textarea").focus(),this.focusAfterRender=!1),this.checkButtonStatus()},checkButtonStatus:function(){var t=!this.$find('[name="description"]').val();this.$find('[data-hull-action="comment"]').attr("disabled",t)},toggleLoading:function(){this.$el.toggleClass("is-loading"),this.$find("input,textarea,button").attr("disabled",this.$el.hasClass("is-loading"))},postComment:function(t){t.preventDefault();var e=this,n=this.$find("form"),i=this.sandbox.dom.getFormData(n);i.description&&i.description.length>0&&(this.toggleLoading(),this.api(this.options.id+"/comments","post",i).then(function(t){e.sandbox.emit("hull.comments."+e.options.id+".added",t),e.toggleLoading(),n[0].reset&&n[0].reset(),e.focusAfterRender=!0,e.$el.find("input,textarea").focus(),e.checkButtonStatus()}))}});