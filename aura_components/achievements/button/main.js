this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["achievements/button/button"]=function(e,t,n,s,i){function a(e){var t,n="";return n+='\n    <button class="btn btn-success">\n      [DONE] Checked ('+u((t=e&&e.achievement,t=null==t||t===!1?t:t.name,typeof t===h?t.apply(e):t))+")\n    </button>\n  "}function r(e,t){var s,i="";return i+='\n    <button class="btn ',s=n.unless.call(e,e&&e.canAchieve,{hash:{},inverse:p.noop,fn:p.program(4,l,t),data:t}),(s||0===s)&&(i+=s),i+='" data-hull-action="achieve">\n      CheckIn ('+u((s=e&&e.achievement,s=null==s||s===!1?s:s.name,typeof s===h?s.apply(e):s))+")\n    </button>\n  "}function l(){return"disabled"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var o,c="",h="function",u=this.escapeExpression,p=this;return c+='<div class="hull-achieve">\n  ',o=n["if"].call(t,t&&t.isAchieved,{hash:{},inverse:p.program(3,r,i),fn:p.program(1,a,i),data:i}),(o||0===o)&&(c+=o),c+="\n</div>\n"},Hull.templates._default["achievements/button/error"]=function(e,t,n,s,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,r,l="",o="function",c=this.escapeExpression;return l+='<span class="alert warning">\nAn error occurred: "',(r=n.message)?a=r.call(t,{hash:{},data:i}):(r=t&&t.message,a=typeof r===o?r.call(t,{hash:{},data:i}):r),l+=c(a)+'"\n</span>\n'},Hull.component("achievements/button@hull",{type:"Hull",requiredOptions:["id","secret"],templates:["button","error"],actions:{achieve:function(){var e=this;this.api(this.id+"/achieve","post",{secret:this.options.secret}).then(function(){e.refresh()},function(t){e.renderError(t.responseJSON.message)})}},onAchievementError:function(){this.actions.achieve=function(){}},renderError:function(e){this.$el.html(this.renderTemplate("error",{message:e}))},datasources:{achievement:function(){return this.api(this.id)}},beforeRender:function(e){return console.log(e),e.achievement&&e.achievement.badge?e.isAchieved=!0:(e.isAchieved=!1,e.canAchieve=e.loggedIn&&this.options.secret?!0:!1),e}});